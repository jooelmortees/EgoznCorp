<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EGOZN - No es una marca, es un estilo de vida</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Oswald:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --negro-profundo: #0a0a0a;
            --gris-carbon: #1a1a1a;
            --gris-oscuro: #2a2a2a;
            --plateado: #c0c0c0;
            --plateado-brillante: #e8e8e8;
            --rojo-tribal: #8b0000;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Prevenir overflow horizontal en todos los elementos */
        *,
        *::before,
        *::after {
            max-width: 100%;
        }

        /* Contenedores principales sin overflow */
        .navbar,
        .hero,
        .lifestyle-section,
        .productos-section,
        .versatilidad-section,
        .tribu-section,
        .footer {
            width: 100%;
        }

        /* Prevenir scroll horizontal global */
        html,
        body {
            max-width: 100vw;
            overflow-x: hidden;
        }

        /* Ocultar scrollbars en todos los elementos que puedan tenerlas */
        *::-webkit-scrollbar {
            width: 0px;
            background: transparent;
        }

        * {
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        body {
            font-family: 'Oswald', sans-serif;
            background: var(--negro-profundo);
            color: var(--plateado);
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* Internet Explorer 10+ */
        }

        /* Clase para bloquear scroll cuando modales están abiertos */
        body.no-scroll {
            overflow: hidden !important;
            touch-action: none !important;
            -webkit-overflow-scrolling: touch !important;
        }
        
        /* Asegurar que html también esté bloqueado */
        html.no-scroll {
            overflow: hidden !important;
        }

        /* Ocultar scrollbar en WebKit browsers (Chrome, Safari, Edge) */
        body::-webkit-scrollbar {
            display: none;
        }

        html {
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* Internet Explorer 10+ */
        }

        html::-webkit-scrollbar {
            display: none;
        }

        /* Cursor personalizado */
        body {
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><polygon points="10,2 2,18 18,18" fill="%23c0c0c0" stroke="%23000" stroke-width="1"/></svg>'), auto;
        }

        /* Navbar */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            padding: 15px 0;
            border-bottom: 2px solid var(--plateado);
            animation: glowBorder 3s ease-in-out infinite;
        }

        @keyframes glowBorder {

            0%,
            100% {
                box-shadow: 0 0 10px var(--plateado);
            }

            50% {
                box-shadow: 0 0 20px var(--plateado-brillante);
            }
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            position: relative;
        }

        .nav-logo {
            flex: 0 0 auto;
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 40px;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            margin: 0;
            padding: 0;
        }

        .nav-icons {
            display: flex;
            gap: 20px;
            align-items: center;
            flex: 0 0 auto;
        }

        .nav-icon {
            color: var(--plateado);
            text-decoration: none;
            position: relative;
            padding: 8px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-icon:hover {
            color: var(--plateado-brillante);
            background-color: rgba(255, 255, 255, 0.1);
            transform: translateY(-2px);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--dorado);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            min-width: 20px;
        }

        /* Login Modal */
        .login-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }

        .login-modal.active {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .login-content {
            background: var(--gris-carbon);
            border: 2px solid var(--plateado);
            border-radius: 15px;
            padding: 40px;
            width: 90%;
            max-width: 400px;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.7);
        }

        .login-close {
            position: absolute;
            right: 15px;
            top: 15px;
            color: var(--plateado);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .login-close:hover {
            color: var(--plateado-brillante);
            transform: scale(1.1);
        }

        .login-title {
            text-align: center;
            font-family: 'Bebas Neue', cursive;
            font-size: 28px;
            color: var(--plateado-brillante);
            margin-bottom: 30px;
            letter-spacing: 2px;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 30px;
            border: 1px solid var(--gris-oscuro);
            border-radius: 8px;
            overflow: hidden;
        }

        .auth-tab {
            flex: 1;
            padding: 15px;
            background: var(--gris-oscuro);
            color: var(--plateado);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            font-size: 14px;
            letter-spacing: 1px;
            opacity: 0.6;
        }

        .auth-tab.active {
            background: var(--plateado-brillante);
            color: var(--negro-profundo);
            font-weight: 700;
            transform: scale(1.02);
            box-shadow: 0 2px 8px rgba(255, 255, 255, 0.2);
            opacity: 1;
        }

        .auth-tab:hover:not(.active) {
            background: var(--gris-carbon);
            color: var(--plateado);
            opacity: 0.8;
        }

        .login-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-label {
            color: var(--plateado);
            font-weight: 600;
            font-size: 14px;
        }

        .form-input {
            padding: 15px;
            border: 2px solid var(--gris-oscuro);
            border-radius: 8px;
            background: var(--negro-profundo);
            color: var(--plateado-brillante);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--plateado-brillante);
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .form-input::placeholder {
            color: var(--plateado);
            opacity: 0.7;
        }

        .login-button {
            padding: 15px;
            background: linear-gradient(135deg, var(--gris-carbon), var(--gris-oscuro));
            border: 2px solid var(--plateado);
            color: var(--plateado-brillante);
            border-radius: 8px;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            margin-top: 10px;
        }

        .login-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--plateado), transparent);
            transition: left 0.5s;
        }

        .login-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .login-button:hover::before {
            left: 100%;
        }

        .login-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-divider {
            text-align: center;
            margin: 30px 0;
            color: var(--plateado);
            position: relative;
            font-size: 14px;
            font-weight: 500;
        }

        .auth-divider::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--plateado), transparent);
            z-index: 0;
        }

        .auth-divider span {
            background: var(--gris-carbon);
            padding: 0 20px;
            position: relative;
            z-index: 1;
        }

        .social-login {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .social-button {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px;
            border: 2px solid var(--gris-oscuro);
            border-radius: 8px;
            background: transparent;
            color: var(--plateado);
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }

        .social-button:hover {
            border-color: var(--plateado-brillante);
            color: var(--plateado-brillante);
            transform: translateY(-1px);
            box-shadow: 0 2px 8px rgba(255, 255, 255, 0.1);
        }

        .user-info {
            display: none;
            align-items: center;
            gap: 10px;
            color: var(--plateado-brillante);
            font-size: 14px;
        }

        .user-info.active {
            display: flex;
        }

        .logout-button {
            background: transparent;
            border: 1px solid var(--plateado);
            color: var(--plateado);
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .logout-button:hover {
            background: var(--plateado);
            color: var(--negro-profundo);
        }

        /* Dropdown del usuario */
        .user-dropdown {
            position: absolute;
            top: calc(100% + 10px);
            right: 0;
            background: var(--gris-carbon);
            border: 2px solid var(--plateado);
            border-radius: 12px;
            min-width: 250px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .user-dropdown.active {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .user-dropdown::before {
            content: '';
            position: absolute;
            top: -8px;
            right: 20px;
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-bottom: 8px solid var(--plateado);
        }

        .dropdown-header {
            padding: 20px;
            border-bottom: 1px solid var(--gris-oscuro);
            text-align: center;
        }

        .dropdown-user-email {
            color: var(--plateado-brillante);
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .dropdown-user-status {
            color: var(--dorado);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .dropdown-menu {
            padding: 10px 0;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--plateado);
            text-decoration: none;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-size: 14px;
        }

        .dropdown-item:hover {
            background: var(--gris-oscuro);
            color: var(--plateado-brillante);
            padding-left: 25px;
        }

        .dropdown-item.logout {
            border-top: 1px solid var(--gris-oscuro);
            margin-top: 5px;
            color: var(--rojo-tribal);
        }

        .dropdown-item.logout:hover {
            background: var(--rojo-tribal);
            color: white;
        }

        .dropdown-icon {
            width: 16px;
            height: 16px;
            flex-shrink: 0;
        }

        /* Ocultar elementos cuando hay dropdown */
        .nav-icon.has-dropdown .user-info {
            display: none;
        }

        .nav-menu a {
            color: var(--plateado);
            text-decoration: none;
            font-weight: 700;
            font-size: 18px;
            letter-spacing: 2px;
            position: relative;
            transition: all 0.3s;
        }

        .nav-menu a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--plateado-brillante);
            transition: width 0.3s;
        }

        .nav-menu a:hover {
            color: var(--plateado-brillante);
            text-shadow: 0 0 10px var(--plateado);
        }

        .nav-menu a:hover::after {
            width: 100%;
        }

        /* Overlay cuando el menú está abierto */
        @media (max-width: 767px) {
            .nav-menu.active::before {
                content: '';
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: rgba(0, 0, 0, 0.5);
                z-index: -1;
            }

            /* Asegurar que el botón sea fácilmente clickeable */
            .mobile-menu-toggle {
                min-width: 44px;
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
                -webkit-tap-highlight-color: transparent;
                touch-action: manipulation;
            }

            /* Feedback visual al tocar */
            .mobile-menu-toggle:active {
                opacity: 0.7;
            }
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: url('https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=1920') center/cover;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at center, transparent 0%, rgba(10, 10, 10, 0.7) 50%, rgba(10, 10, 10, 0.95) 100%);
            z-index: 1;
        }

        .hero-content {
            text-align: center;
            z-index: 2;
            animation: fadeInUp 1.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-logo {
            font-size: 150px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 20px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--plateado), var(--plateado-brillante), var(--plateado));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: metalShine 3s linear infinite;
        }

        @keyframes metalShine {
            0% {
                background-position: -200% center;
            }

            100% {
                background-position: 200% center;
            }
        }

        .hero-slogan {
            font-size: 32px;
            letter-spacing: 5px;
            margin-bottom: 20px;
            color: var(--plateado-brillante);
            text-shadow: 0 0 30px rgba(192, 192, 192, 0.8);
            font-weight: 700;
        }

        .hero-subslogan {
            font-size: 20px;
            letter-spacing: 3px;
            margin-bottom: 40px;
            color: var(--plateado);
            text-shadow: 0 0 20px rgba(192, 192, 192, 0.5);
            line-height: 1.6;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform-origin: center;
            will-change: transform, opacity, filter;
        }

        .lifestyle-badges {
            display: flex;
            gap: 30px;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .lifestyle-badge {
            padding: 10px 20px;
            border: 1px solid var(--plateado);
            font-size: 16px;
            letter-spacing: 2px;
            background: rgba(42, 42, 42, 0.5);
            backdrop-filter: blur(5px);
            transition: all 0.3s;
        }

        .lifestyle-badge:hover {
            background: var(--plateado);
            color: var(--negro-profundo);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(192, 192, 192, 0.3);
        }

        .cta-container {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .cta-button {
            padding: 20px 50px;
            background: linear-gradient(135deg, var(--gris-carbon), var(--gris-oscuro));
            border: 2px solid var(--plateado);
            color: var(--plateado-brillante);
            text-decoration: none;
            font-size: 20px;
            font-weight: 700;
            letter-spacing: 3px;
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
            clip-path: polygon(10% 0%, 100% 0%, 90% 100%, 0% 100%);
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, var(--plateado), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 30px var(--plateado);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        /* Sección Estilo de Vida */
        .lifestyle-section {
            padding: 100px 0;
            background: var(--negro-profundo);
            position: relative;
        }

        .lifestyle-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            max-width: 1400px;
            margin: 60px auto 0;
            padding: 0 20px;
        }

        .lifestyle-card {
            background: var(--gris-carbon);
            border: 1px solid var(--gris-oscuro);
            overflow: hidden;
            position: relative;
            height: 500px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .lifestyle-card:hover {
            transform: translateY(-10px);
            border-color: var(--plateado);
            box-shadow: 0 20px 40px rgba(192, 192, 192, 0.3);
        }

        .lifestyle-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .lifestyle-card:hover .lifestyle-img {
            transform: scale(1.1);
        }

        .lifestyle-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(10, 10, 10, 0.95), transparent);
            padding: 40px;
            transform: translateY(50%);
            transition: transform 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
        }

        .lifestyle-card:hover .lifestyle-overlay {
            transform: translateY(0);
        }

        /* Solo aplicar auto-activación en dispositivos móviles */
        @media (max-width: 767px) {
            .lifestyle-card.auto-active .lifestyle-overlay {
                transform: translateY(0);
            }
        }

        .lifestyle-title {
            font-size: 32px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 3px;
            margin-bottom: 10px;
            color: var(--plateado-brillante);
        }

        .lifestyle-description {
            font-size: 16px;
            line-height: 1.6;

            color: var(--plateado);
        }

        /* Sección Productos */
        .productos-section {
            padding: 100px 0;
            background: var(--negro-profundo);
            position: relative;
        }

        .productos-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(to right, transparent, var(--plateado), transparent);
        }

        .section-title {
            text-align: center;
            font-size: 72px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 10px;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--plateado), var(--plateado-brillante));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            position: relative;
        }

        .section-subtitle {
            text-align: center;
            font-size: 24px;
            color: var(--plateado);
            margin-bottom: 60px;
            letter-spacing: 3px;
        }

        .productos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .producto-card {
            background: var(--gris-carbon);
            border: 1px solid var(--gris-oscuro);
            overflow: hidden;
            position: relative;
            transition: all 0.3s;
            cursor: pointer;
        }

        .producto-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent 40%, rgba(192, 192, 192, 0.1) 50%, transparent 60%);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .producto-card:hover {
            transform: translateY(-10px);
            border-color: var(--plateado);
            box-shadow: 0 20px 40px rgba(192, 192, 192, 0.2);
        }

        .producto-card:hover::before {
            transform: translateX(100%);
        }

        .producto-img {
            width: 100%;
            height: 400px;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .producto-card:hover .producto-img {
            transform: scale(1.1);
        }

        .producto-info {
            padding: 30px;
            background: rgba(26, 26, 26, 0.9);
        }

        .producto-nombre {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: 3px;
            margin-bottom: 10px;
        }

        .producto-categoria {
            font-size: 14px;
            color: var(--plateado);
            letter-spacing: 2px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        .producto-precio {
            font-size: 28px;
            color: var(--plateado-brillante);
            font-family: 'Bebas Neue', cursive;
        }

        /* Filtros */
        .filtros-container {
            max-width: 1400px;
            margin: 0 auto 40px;
            padding: 0 20px;
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .filtro-btn {
            padding: 15px 30px;
            background: transparent;
            border: 2px solid var(--gris-oscuro);
            color: var(--plateado);
            font-size: 16px;
            font-weight: 700;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .filtro-btn.active,
        .filtro-btn:hover {
            border-color: var(--plateado);
            color: var(--plateado-brillante);
            box-shadow: 0 0 20px rgba(192, 192, 192, 0.3);
        }

        /* Sección Tribu */
        .tribu-section {
            padding: 100px 0;
            background: url('https://images.unsplash.com/photo-1581009146145-b5ef050c2e1e?w=1920') center/cover fixed;
            position: relative;
        }

        .tribu-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(10, 10, 10, 0.85);
        }

        .tribu-content {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
            text-align: center;
            position: relative;
            z-index: 1;
        }

        .tribu-text {
            font-size: 20px;
            line-height: 1.8;
            margin-bottom: 40px;
            color: var(--plateado);
        }

        .tribu-highlight {
            font-size: 28px;
            font-weight: 700;
            color: var(--plateado-brillante);
            margin: 40px 0;
            letter-spacing: 3px;
            text-shadow: 0 0 30px rgba(192, 192, 192, 0.5);
        }

        .valores-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .valor-card {
            padding: 40px;
            background: rgba(42, 42, 42, 0.8);
            border: 1px solid var(--plateado);
            position: relative;
            overflow: hidden;
            transition: all 0.3s;
        }

        .valor-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--plateado), transparent, var(--plateado));
            opacity: 0;
            transition: opacity 0.3s;
            z-index: -1;
        }

        .valor-card:hover::before {
            opacity: 1;
            animation: borderRotate 2s linear infinite;
        }

        @keyframes borderRotate {
            100% {
                transform: rotate(360deg);
            }
        }

        .valor-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        .valor-titulo {
            font-size: 28px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 3px;
            margin-bottom: 15px;
        }

        /* Sección Versatilidad */
        .versatilidad-section {
            padding: 100px 0;
            background: var(--gris-carbon);
            position: relative;
            overflow: hidden;
        }

        .versatilidad-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .versatilidad-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 0;
            margin-top: 60px;
        }

        .versatilidad-item {
            position: relative;
            height: 400px;
            overflow: hidden;
            cursor: pointer;
        }

        .versatilidad-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
        }

        .versatilidad-item:hover .versatilidad-img {
            transform: scale(1.2);
        }

        .versatilidad-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 40px;
            background: linear-gradient(to top, rgba(10, 10, 10, 0.9), transparent);
            transform: translateY(50%);
            transition: transform 0.3s;
        }

        .versatilidad-item:hover .versatilidad-info {
            transform: translateY(0);
        }

        .versatilidad-titulo {
            font-size: 32px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 3px;
            color: var(--plateado-brillante);
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .versatilidad-desc {
            font-size: 16px;
            color: var(--plateado);
            line-height: 1.6;
        }

        /* Carrito */
        .carrito-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: var(--gris-carbon);
            border-left: 2px solid var(--plateado);
            z-index: 2000;
            transition: right 0.3s;
            overflow-y: auto;
            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
            /* Internet Explorer 10+ */
        }

        .carrito-sidebar::-webkit-scrollbar {
            display: none;
        }

        .carrito-sidebar.active {
            right: 0;
        }

        .carrito-header {
            padding: 30px;
            background: var(--negro-profundo);
            border-bottom: 1px solid var(--gris-oscuro);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .carrito-titulo {
            font-size: 28px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 3px;
        }

        .cerrar-carrito {
            font-size: 50px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            padding: 16px;
            margin: -16px;
            /* El padding aumenta el área clickeable, el margin negativo lo compensa visualmente */
            z-index: 2;
            background: none !important;
            border: none !important;
            outline: none !important;
            box-shadow: none !important;
            border-radius: 0 !important;
        }

        .cerrar-carrito:hover {
            color: var(--plateado-brillante);
            transform: rotate(90deg);
        }

        /* Footer */
        .footer {
            padding: 60px 0 30px;
            background: var(--negro-profundo);
            border-top: 2px solid var(--plateado);
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .footer-columna h3 {
            font-size: 24px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 3px;
            margin-bottom: 20px;
            color: var(--plateado-brillante);
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: var(--plateado);
            text-decoration: none;
            transition: all 0.3s;
        }

        .footer-links a:hover {
            color: var(--plateado-brillante);
            padding-left: 10px;
        }

        .social-icons {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .social-icon {
            width: 50px;
            height: 50px;
            border: 2px solid var(--plateado);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: var(--plateado);
            text-decoration: none;
            transition: all 0.3s;
            clip-path: polygon(25% 0%, 100% 0%, 75% 100%, 0% 100%);
        }

        .social-icon:hover {
            background: var(--plateado);
            color: var(--negro-profundo);
            transform: translateY(-5px);
        }

        /* Animaciones de scroll */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease-out;
        }

        .scroll-reveal.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Modal de producto */
        .producto-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 10, 0.95);
            z-index: 3000;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            max-width: 1200px;
            width: 90%;
            background: var(--gris-carbon);
            border: 2px solid var(--plateado);
            display: grid;
            grid-template-columns: 1fr 1fr;
            position: relative;
        }

        .modal-imagen {
            width: 100%;
            height: 600px;
            object-fit: cover;
        }

        .modal-info {
            padding: 60px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 40px;
            color: var(--plateado);
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
            background: rgba(10, 10, 10, 0.8);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .modal-close:hover {
            color: var(--plateado-brillante);
            transform: rotate(90deg);
            background: rgba(10, 10, 10, 0.9);
        }

        .modal-close:active {
            transform: scale(0.95);
            background: rgba(10, 10, 10, 1);
        }

        /* Loading animation */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--negro-profundo);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5000;
        }

        .loader-logo {
            font-size: 100px;
            font-family: 'Bebas Neue', cursive;
            letter-spacing: 15px;
            color: var(--plateado);
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
            padding: 10px;
            z-index: 1001;
        }

        .mobile-menu-toggle span {
            width: 30px;
            height: 3px;
            background: var(--plateado);
            transition: all 0.3s;
        }

        /* Animación del hamburger cuando está activo */
        .mobile-menu-toggle.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 6px);
        }

        .mobile-menu-toggle.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu-toggle.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -7px);
        }


        /* ===== RESPONSIVE DESIGN ===== */

        /* Extra Large Screens (1400px+) */
        @media (min-width: 1400px) {

            .nav-container,
            .versatilidad-container,
            .tribu-content,
            .footer-content {
                max-width: 1600px;
            }

            .hero-logo {
                font-size: 180px;
            }

            .section-title {
                font-size: 84px;
            }
        }

        /* Large Screens (1200px - 1399px) */
        @media (max-width: 1399px) {

            .lifestyle-grid,
            .productos-grid {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            }
        }

        /* Medium-Large Screens (992px - 1199px) */
        @media (max-width: 1199px) {
            .nav-container {
                padding: 0 15px;
            }

            .hero-logo {
                font-size: 120px;
                letter-spacing: 15px;
            }

            .section-title {
                font-size: 64px;
                letter-spacing: 8px;
            }

            .lifestyle-grid,
            .productos-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 30px;
            }

            .versatilidad-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Tablets (768px - 991px) */
        @media (max-width: 991px) {
            .navbar {
                padding: 12px 0;
            }

            .hero-logo {
                font-size: 100px;
                letter-spacing: 12px;
            }

            .hero-slogan {
                font-size: 28px;
                letter-spacing: 4px;
            }

            .hero-subslogan {
                font-size: 18px;
                letter-spacing: 2px;
            }

            .section-title {
                font-size: 56px;
                letter-spacing: 6px;
            }

            .section-subtitle {
                font-size: 20px;
            }

            .lifestyle-grid,
            .productos-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 25px;
            }

            .versatilidad-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* Mobile Styles */
        @media (max-width: 768px) {
            .nav-container {
                justify-content: flex-start;
                position: relative;
            }

            .nav-logo {
                flex: 0 0 auto;
            }

            .mobile-menu-toggle {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                order: 2;
            }

            .nav-icons {
                position: absolute;
                right: 0;
                gap: 15px;
                order: 3;
            }

            .nav-icon {
                padding: 10px;
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 65px;
                flex-direction: column;
                background: var(--gris-carbon);
                width: 100%;
                text-align: center;
                transition: left 0.3s ease;
                padding: 40px 0;
                border-bottom: 2px solid var(--plateado);
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
                z-index: 999;
                height: calc(100vh - 65px);
                overflow-y: auto;
                overflow-x: visible;
                height: calc(100vh - 80px);
                /* Reset positioning for mobile */
                position: fixed;
                transform: none;
                left: -100%;
            }

            .nav-menu.active {
                left: 0;
            }

            .nav-menu li {
                margin: 20px 0;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .hero-logo {
                font-size: 80px;
                letter-spacing: 10px;
            }

            .hero-slogan {
                font-size: 24px;
                letter-spacing: 3px;
            }

            .hero-subslogan {
                font-size: 16px;
                letter-spacing: 2px;
            }

            .cta-button {
                padding: 15px 30px;
                font-size: 16px;
            }

            .section-title {
                font-size: 48px;
                letter-spacing: 5px;
            }

            .lifestyle-grid,
            .productos-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }

            .versatilidad-grid {
                grid-template-columns: 1fr;
            }

            .modal-content {
                grid-template-columns: 1fr;
                width: 95%;
            }

            .modal-imagen {
                height: 300px;
            }

            .modal-info {
                padding: 30px;
            }

            .carrito-sidebar {
                width: 100%;
                right: -100%;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .social-icons {
                justify-content: center;
            }

        }

        .valores-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
        }

        .cta-container {
            flex-direction: column;
            gap: 20px;
        }

        .cta-button {
            padding: 18px 40px;
            font-size: 18px;
        }

        .filtros-container {
            gap: 15px;
        }

        .filtro-btn {
            padding: 12px 25px;
            font-size: 14px;
        }
        

        /* Mobile Large (576px - 767px) */
        @media (max-width: 767px) {

            /* Remover padding de secciones principales y aplicar márgenes a contenido */
            .hero,
            .lifestyle-section,
            .productos-section,
            .versatilidad-section,
            .tribu-section,
            .footer {
                padding-left: 0;
                padding-right: 0;
                box-sizing: border-box;
            }

            /* Aplicar márgenes directamente a todo el contenido */
            .hero > *,
            .lifestyle-section > *,
            .productos-section > *,
            .versatilidad-section > *,
            .tribu-section > *,
            .footer > *,
            .lifestyle-grid > *,
            .productos-grid > *,
            .versatilidad-grid > *,
            .filtros-container > *,
            .changing-text-container > * {
                margin-left: 24px;
                margin-right: 24px;
                box-sizing: border-box;
            }

            .mobile-menu-toggle {
                display: flex;
            }

            .navbar {
                padding: 12px 0;
            }

            .nav-container {
                padding: 0 24px;
                justify-content: flex-start;
                position: relative;
            }

            .mobile-menu-toggle {
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }

            .nav-icons {
                position: absolute;
                right: 0;
                gap: 12px;
            }

            .modal-close {
                top: 5px;
                right: 5px;
                width: 55px;
                height: 55px;
                font-size: 30px;
                background: rgba(10, 10, 10, 0.95);
                border: 3px solid var(--plateado);
                box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);
            }

            .nav-menu {
                position: fixed;
                left: -100%;
                top: 80px;
                flex-direction: column;
                background: var(--gris-carbon);
                width: 100%;
                text-align: center;
                transition: left 0.3s ease;
                padding: 40px 20px;
                border-bottom: 2px solid var(--plateado);
                z-index: 1001;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.8);
                /* Reset positioning for mobile */
                transform: none;
            }

            .nav-menu.active {
                left: 0;
            }

            .nav-menu li {
                margin: 20px 0;
            }

            .nav-menu a {
                font-size: 20px;
                padding: 10px;
                display: block;
            }

            .hero {
                height: 100vh;
                padding: 0 20px;
            }

            /* Tipografía optimizada para móvil */
            .hero-logo {
                font-size: 72px;
                letter-spacing: 6px;
                margin-bottom: 20px;
            }

            .hero-slogan {
                font-size: 22px;
                letter-spacing: 2px;
                margin-bottom: 18px;
                line-height: 1.3;
            }

            .hero-subslogan {
                font-size: 16px;
                letter-spacing: 1px;
                margin-bottom: 35px;
                line-height: 1.5;
            }

            .lifestyle-badges {
                flex-direction: column;
                gap: 15px;
                margin-bottom: 35px;
                padding: 0 10px;
            }

            .lifestyle-badge {
                padding: 12px 20px;
                font-size: 15px;
                letter-spacing: 1px;
            }

            .cta-button {
                padding: 18px 35px;
                font-size: 17px;
                letter-spacing: 2px;
            }

            /* Secciones sin padding horizontal extra */
            .lifestyle-section,
            .productos-section,
            .versatilidad-section,
            .tribu-section {
                padding: 80px 0;
            }

            .section-title {
                font-size: 44px;
                letter-spacing: 3px;
                margin-bottom: 20px;
                line-height: 1.1;
            }

            .section-subtitle {
                font-size: 17px;
                margin-bottom: 45px;
                line-height: 1.4;
                padding: 0 10px;
            }

            /* PRODUCTOS EN FILAS DE DOS */
            .productos-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                padding: 0;
            }

            .producto-card {
                margin: 0;
            }

            .producto-img {
                height: 180px;
            }

            .producto-info {
                padding: 15px;
            }

            .producto-nombre {
                font-size: 16px;
                line-height: 1.2;
                margin-bottom: 8px;
            }

            .producto-categoria {
                font-size: 11px;
                margin-bottom: 8px;
            }

            .producto-precio {
                font-size: 20px;
            }

            /* Lifestyle grid mejorado */
            .lifestyle-grid {
                grid-template-columns: 1fr;
                gap: 25px;
                padding: 0;
            }

            .lifestyle-title {
                font-size: 28px;
                letter-spacing: 2px;
                margin-bottom: 20px;
                margin-top: 0;
            }

            .lifestyle-description {
                margin-top: 0;
            }

            .lifestyle-description {
                font-size: 15px;
                line-height: 1.4;
            }

            /* Versatilidad grid */
            .versatilidad-grid {
                grid-template-columns: 1fr;
                padding: 0;
            }

            .versatilidad-item {
                height: 320px;
                margin-bottom: 15px;
            }

            .versatilidad-titulo {
                font-size: 26px;
                letter-spacing: 2px;
            }

            .versatilidad-desc {
                font-size: 14px;
                line-height: 1.4;
            }

            /* Filtros con padding */
            .filtros-container {
                padding: 0 15px;
                gap: 12px;
            }

            .filtro-btn {
                padding: 12px 18px;
                font-size: 13px;
                letter-spacing: 1px;
            }

            .valores-grid {
                grid-template-columns: 1fr;
                gap: 25px;
                padding: 0 10px;
            }

            .valor-card {
                padding: 25px;
            }

            .valor-titulo {
                font-size: 24px;
                letter-spacing: 2px;
            }

            .modal-content {
                grid-template-columns: 1fr;
                width: 95%;
                max-height: 90vh;
                overflow-y: auto;
                scrollbar-width: none;
                -ms-overflow-style: none;
                margin: 0 10px;
            }

            .modal-content::-webkit-scrollbar {
                display: none;
            }

            .modal-imagen {
                height: 280px;
            }

            .modal-info {
                padding: 25px;
            }

            .carrito-sidebar {
                width: 100%;
                right: -100%;
            }

            .tribu-content {
                padding: 0 10px;
            }

            .tribu-text {
                font-size: 16px;
                line-height: 1.6;
            }

            .tribu-highlight {
                font-size: 22px;
                margin: 30px 0;
                letter-spacing: 2px;
            }

            .footer {
                padding: 60px 15px 30px;
            }

            .footer-content {
                grid-template-columns: 1fr;
                gap: 35px;
                text-align: center;
            }
        }

        /* Mobile Medium (480px - 575px) */
        @media (max-width: 575px) {



            .hero {
                padding: 0 20px;
            }

            .hero-logo {
                font-size: 64px;
                letter-spacing: 4px;
            }

            .hero-slogan {
                font-size: 19px;
                letter-spacing: 1px;
            }

            .hero-subslogan {
                font-size: 15px;
                line-height: 1.4;
            }

            .section-title {
                font-size: 38px;
                letter-spacing: 2px;
            }

            .section-subtitle {
                font-size: 16px;
                padding: 0 5px;
            }

            /* Productos siguen en filas de dos pero más compactos */
            .productos-grid {
                gap: 12px;
                padding: 0 5px;
                margin-top: 30px;
            }

            .producto-img {
                height: 160px;
            }

            .producto-info {
                padding: 12px;
            }

            .producto-nombre {
                font-size: 15px;
            }

            .producto-categoria {
                font-size: 10px;
            }

            .producto-precio {
                font-size: 18px;
            }

            .lifestyle-title,
            .versatilidad-titulo {
                font-size: 26px;
                letter-spacing: 1px;
                margin-bottom: 20px;
                margin-top: 0;
            }

            .lifestyle-description,
            .versatilidad-desc {
                font-size: 14px;
                margin-top: 0;
            }

            .filtros-container {
                flex-direction: column;
                gap: 10px;
                padding: 0;
                margin: 0 auto;
                max-width: calc(100% - 56px);
                width: 100%;
                box-sizing: border-box;
                display: flex;
                align-items: center;
            }

            .filtro-btn {
                width: 100%;
                max-width: 100%;
                padding: 14px;
                font-size: 14px;
                text-align: center;
                margin: 0;
                box-sizing: border-box;
            }

            .versatilidad-item {
                height: 280px;
            }

            .lifestyle-section,
            .productos-section,
            .versatilidad-section,
            .tribu-section {
                padding: 70px 0;
            }
        }

        /* Mobile Small (320px - 479px) */
        @media (max-width: 479px) {



            .nav-container {
                padding: 0 8px;
            }

            .hero {
                padding: 0 15px;
            }

            .hero-logo {
                font-size: 56px;
                letter-spacing: 3px;
            }

            .hero-slogan {
                font-size: 17px;
                letter-spacing: 1px;
            }

            .hero-subslogan {
                font-size: 14px;
                line-height: 1.3;
            }

            .section-title {
                font-size: 34px;
                letter-spacing: 1px;
            }

            .section-subtitle {
                font-size: 15px;
                padding: 0;
            }

            /* Productos en filas de dos optimizados para pantallas pequeñas */
            .productos-grid {
                gap: 8px;
                padding: 0;
            }

            .producto-img {
                height: 140px;
            }

            .producto-info {
                padding: 10px;
            }

            .producto-nombre {
                font-size: 14px;
                line-height: 1.1;
            }

            .producto-categoria {
                font-size: 9px;
            }

            .producto-precio {
                font-size: 16px;
            }

            .lifestyle-section,
            .productos-section,
            .versatilidad-section,
            .tribu-section {
                padding: 60px 0;
            }

            .lifestyle-grid {
                padding: 0;
            }

            .lifestyle-overlay,
            .versatilidad-info {
                padding: 20px;
            }

            .lifestyle-title,
            .versatilidad-titulo {
                font-size: 22px;
                letter-spacing: 1px;
                margin-bottom: 20px;
                margin-top: 0;
            }

            .lifestyle-description,
            .versatilidad-desc {
                font-size: 13px;
                margin-top: 0;
            }

            .cta-button {
                padding: 14px 28px;
                font-size: 15px;
            }

            .versatilidad-grid {
                padding: 0;
            }

            .versatilidad-item {
                height: 260px;
            }

            .filtros-container {
                padding: 0 5px;
            }

            .filtro-btn {
                padding: 12px;
                font-size: 13px;
            }

            .valor-card {
                padding: 18px;
            }

            .valor-titulo {
                font-size: 22px;
            }

            .modal-content {
                margin: 0 5px;
            }

            .modal-info {
                padding: 18px;
            }

            .tribu-content {
                padding: 0 15px;
            }

            .footer {
                padding: 50px 15px 25px;
            }
        }

        /* Touch Device Optimizations */
        @media (hover: none) and (pointer: coarse) {

            .lifestyle-card:hover,
            .producto-card:hover,
            .versatilidad-item:hover {
                transform: none;
            }

            .lifestyle-overlay {
                transform: translateY(calc(100% - 80px));
                padding-top: 40px;
                transition: transform 0.5s cubic-bezier(0.4, 0.0, 0.2, 1);
            }

            .lifestyle-title {
                margin-top: 0;
                margin-bottom: 20px;
            }

            .versatilidad-info {
                transform: translateY(65%);
            }

            .lifestyle-card:active .lifestyle-overlay,
            .versatilidad-item:active .versatilidad-info {
                transform: translateY(0);
            }
        }

        /* High DPI Displays */
        @media (-webkit-min-device-pixel-ratio: 2),
        (min-resolution: 192dpi) {

            .hero-logo,
            .section-title {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }

        /* Touch Device Specific Styles */
        .touch-device .lifestyle-card.touch-active,
        .touch-device .versatilidad-item.touch-active {
            transform: scale(0.98);
            transition: transform 0.1s ease;
        }

        .touch-device .lifestyle-card.touch-active .lifestyle-overlay,
        .touch-device .versatilidad-item.touch-active .versatilidad-info {
            transform: translateY(0);
        }

        /* Improve button touch targets */
        @media (max-width: 767px) {

            .cta-button,
            .filtro-btn,
            .nav-menu a {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .mobile-menu-toggle {
                min-width: 44px;
                min-height: 44px;
                padding: 8px;
            }

            .cerrar-carrito,
            .modal-close {
                min-width: 50px;
                min-height: 50px;
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 35px;
                top: 10px;
                right: 10px;
                background: none !important;
                border: none !important;
                border-radius: 0 !important;
                touch-action: manipulation;
            }

            .modal-close:active {
                transform: scale(0.9);
                background: var(--plateado);
                color: var(--negro-profundo);
            }
        }

        /* Prevent zoom on input focus in iOS */
        @media screen and (-webkit-min-device-pixel-ratio: 0) {

            select,
            textarea,
            input[type="text"],
            input[type="password"],
            input[type="datetime"],
            input[type="datetime-local"],
            input[type="date"],
            input[type="month"],
            input[type="time"],
            input[type="week"],
            input[type="number"],
            input[type="email"],
            input[type="url"],
            input[type="search"],
            input[type="tel"],
            input[type="color"] {
                font-size: 16px;
            }
        }



        /* Indicador de scroll */
        .scroll-indicator {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(to right, var(--plateado), var(--plateado-brillante));
            transition: width 0.3s;
            z-index: 10000;
        }
    </style>
</head>

<body>
    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="loader-logo">EGOZN</div>
    </div>

    <!-- Parallax Background -->
    <div class="parallax-bg"></div>

    <!-- Indicador de progreso de scroll -->
    <div class="scroll-indicator" id="scrollIndicator"></div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <img id="logoTest" style="height: 3rem; opacity: 1; width: auto;" src="Img/EGOZN.png" alt="EGOZN Logo">
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><a href="#home">INICIO</a></li>
                <li><a href="#lifestyle">ESTILO DE VIDA</a></li>
                <li><a href="#productos">TIENDA</a></li>
                <li><a href="#tribu">TRIBU EGOZN</a></li>
            </ul>
            <div class="nav-icons">
                <a href="#" onclick="toggleCarrito()" class="nav-icon cart-icon" title="Carrito">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M6 2L3 6V20C3 20.5304 3.21071 21.0391 3.58579 21.4142C3.96086 21.7893 4.46957 22 5 22H19C19.5304 22 20.0391 21.7893 20.4142 21.4142C20.7893 21.0391 21 20.5304 21 20V6L18 2H6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M3 6H21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 10C16 11.0609 15.5786 12.0783 14.8284 12.8284C14.0783 13.5786 13.0609 14 12 14C10.9391 14 9.92172 13.5786 9.17157 12.8284C8.42143 12.0783 8 11.0609 8 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span id="carrito-count" class="cart-count">0</span>
                </a>
                <div class="nav-icon profile-icon" onclick="toggleUserMenu()" title="Perfil" style="position: relative;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21V19C20 17.9 19.1 17 18 17H6C4.9 17 4 17.9 4 19V21M16 7C16 9.2 14.2 11 12 11S8 9.2 8 7 9.8 3 12 3 16 4.8 16 7Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    
                    <!-- Dropdown del usuario -->
                    <div class="user-dropdown" id="userDropdown">
                        <div class="dropdown-header">
                            <div class="dropdown-user-email" id="dropdownUserEmail">usuario@email.com</div>
                            <div class="dropdown-user-status">Conectado</div>
                        </div>
                        <div class="dropdown-menu">
                            <button class="dropdown-item" onclick="showOrderHistory()">
                                <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z"/>
                                    <polyline points="14,2 14,8 20,8"/>
                                    <line x1="16" y1="13" x2="8" y2="13"/>
                                    <line x1="16" y1="17" x2="8" y2="17"/>
                                    <polyline points="10,9 9,9 8,9"/>
                                </svg>
                                Historial de Pedidos
                            </button>
                            <button class="dropdown-item logout" onclick="logoutUser()">
                                <svg class="dropdown-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 2.58579C3.96086 2.21071 4.46957 2 5 2H9"/>
                                    <polyline points="16,17 21,12 16,7"/>
                                    <line x1="21" y1="12" x2="9" y2="12"/>
                                </svg>
                                Cerrar Sesión
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mobile-menu-toggle" onclick="toggleMenu()" role="button" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <h1 class="hero-logo">EGOZN</h1>
            <p class="hero-slogan">NO ES UNA MARCA, ES UN ESTILO DE VIDA</p>
            <p class="hero-subslogan">
                Entrena intenso, vive elegante<br>
                <span style="font-size: 0.85em; opacity: 0.9;">Una prenda que evoluciona contigo</span>
            </p>
            <div class="cta-container">
                <a href="#productos" class="cta-button">DESCUBRE TU ESTILO</a>
            </div>
        </div>
    </section>

    <!-- Lifestyle Section -->
    <section class="lifestyle-section" id="lifestyle">
        <h2 class="section-title scroll-reveal">TU ESTILO, TU VIDA</h2>
        <p class="section-subtitle scroll-reveal">
            Una sola prenda, infinitas posibilidades. EGOZN se adapta a cada momento de tu día
        </p>

        <div class="lifestyle-grid">
            <div class="lifestyle-card scroll-reveal">
                <img src="https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800" alt="Gym Life"
                    class="lifestyle-img">
                <div class="lifestyle-overlay">
                    <h3 class="lifestyle-title">DOMINA EL GYM</h3>
                    <p class="lifestyle-description">
                        Tejidos técnicos que se mueven contigo. Diseños que inspiran fuerza.
                        Tu mejor versión en cada repetición.
                    </p>
                </div>
            </div>

            <div class="lifestyle-card scroll-reveal">
                <img src="https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?w=800" alt="Night Life"
                    class="lifestyle-img">
                <div class="lifestyle-overlay">
                    <h3 class="lifestyle-title">CONQUISTA LA NOCHE</h3>
                    <p class="lifestyle-description">
                        Del after work a la discoteca. Estilo urbano que marca tendencia.
                        Sé el centro de atención sin esfuerzo.
                    </p>
                </div>
            </div>

            <div class="lifestyle-card scroll-reveal">
                <img src="https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=800" alt="Daily Life"
                    class="lifestyle-img">
                <div class="lifestyle-overlay">
                    <h3 class="lifestyle-title">VIVE EL DÍA A DÍA</h3>
                    <p class="lifestyle-description">
                        Comodidad sin sacrificar estilo. Desde la oficina hasta el café con amigos.
                        Tu uniforme de vida moderna.
                    </p>
                </div>
            </div>
        </div>
    </section>



    <!-- Productos Section -->
    <section class="productos-section" id="productos">
        <h2 class="section-title scroll-reveal">COLECCIÓN LIFESTYLE</h2>
        <p class="section-subtitle scroll-reveal">
            Prendas diseñadas para adaptarse a tu vida, no al revés
        </p>

        <div class="filtros-container scroll-reveal">
            <button class="filtro-btn active" onclick="filtrarProductos('todos')">TODOS</button>
            <button class="filtro-btn" onclick="filtrarProductos('gym')">GYM & SPORT</button>
            <button class="filtro-btn" onclick="filtrarProductos('casual')">CASUAL DAILY</button>
            <button class="filtro-btn" onclick="filtrarProductos('night')">NIGHT OUT</button>
            <button class="filtro-btn" onclick="filtrarProductos('nuevo')">NUEVA COLECCIÓN</button>
        </div>

        <div class="productos-grid">
            <!-- Producto 1 - CON OFERTA -->
            <div class="producto-card scroll-reveal" data-categoria="gym casual nuevo">
                <img src="https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=800" alt="Tech Flex Shirt"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">GYM • CASUAL • NIGHT</p>
                    <h3 class="producto-nombre">TECH FLEX SHIRT</h3>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="precio-original" style="text-decoration: line-through; color: var(--plateado); font-size: 14px;">€139.98</span>
                        <span class="producto-precio" style="font-size: 18px; font-weight: 600;">€69.99</span>
                        <span class="descuento" style="background: var(--rojo-tribal); color: white; padding: 2px 6px; border-radius: 4px; font-size: 12px;">-50%</span>
                    </div>
                </div>
            </div>

            <!-- Producto 2 -->
            <div class="producto-card scroll-reveal" data-categoria="gym casual">
                <img src="https://images.unsplash.com/photo-1606902965551-dce093cda6e7?w=800" alt="Hybrid Shorts"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">GYM • CASUAL</p>
                    <h3 class="producto-nombre">HYBRID PERFORMANCE SHORTS</h3>
                    <p class="producto-precio">€59.99</p>
                </div>
            </div>

            <!-- Producto 3 - CON OFERTA -->
            <div class="producto-card scroll-reveal" data-categoria="gym casual night nuevo">
                <img src="https://images.unsplash.com/photo-1592632789004-57d4354f2499?w=800" alt="Adapt Leggings"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">GYM • CASUAL • NIGHT</p>
                    <h3 class="producto-nombre">ADAPT LIFESTYLE LEGGINGS</h3>
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span class="precio-original" style="text-decoration: line-through; color: var(--plateado); font-size: 14px;">€99.99</span>
                        <span class="producto-precio" style="font-size: 18px; font-weight: 600;">€79.99</span>
                        <span class="descuento" style="background: var(--rojo-tribal); color: white; padding: 2px 6px; border-radius: 4px; font-size: 12px;">-20%</span>
                    </div>
                </div>
            </div>

            <!-- Producto 4 -->
            <div class="producto-card scroll-reveal" data-categoria="casual night">
                <img src="https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=800" alt="Urban Hoodie"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">CASUAL • NIGHT</p>
                    <h3 class="producto-nombre">URBAN TECH HOODIE</h3>
                    <p class="producto-precio">€99.99</p>
                </div>
            </div>

            <!-- Producto 5 -->
            <div class="producto-card scroll-reveal" data-categoria="gym">
                <img src="https://images.unsplash.com/photo-1594736797933-d0501ba2fe65?w=800" alt="Power Bra"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">GYM • CASUAL</p>
                    <h3 class="producto-nombre">POWER SUPPORT BRA</h3>
                    <p class="producto-precio">€54.99</p>
                </div>
            </div>

            <!-- Producto 6 -->
            <div class="producto-card scroll-reveal" data-categoria="casual night nuevo">
                <img src="https://images.unsplash.com/photo-1578681994506-b8f463449011?w=800" alt="Lifestyle Joggers"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">CASUAL • NIGHT</p>
                    <h3 class="producto-nombre">LIFESTYLE JOGGERS</h3>
                    <p class="producto-precio">€89.99</p>
                </div>
            </div>

            <!-- Producto 7 -->
            <div class="producto-card scroll-reveal" data-categoria="night nuevo">
                <img src="https://images.unsplash.com/photo-1523381140794-a1eef18a37c7?w=800" alt="Night Polo"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">CASUAL • NIGHT</p>
                    <h3 class="producto-nombre">NIGHT TECH POLO</h3>
                    <p class="producto-precio">€74.99</p>
                </div>
            </div>

            <!-- Producto 8 -->
            <div class="producto-card scroll-reveal" data-categoria="gym casual">
                <img src="https://images.unsplash.com/photo-1518459031867-a89b944bffe4?w=800" alt="Flex Tank"
                    class="producto-img">
                <div class="producto-info">
                    <p class="producto-categoria">GYM • CASUAL</p>
                    <h3 class="producto-nombre">FLEX LIFESTYLE TANK</h3>
                    <p class="producto-precio">€44.99</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Tribu Section -->
    <section class="tribu-section" id="tribu">
        <div class="tribu-content">
            <h2 class="section-title scroll-reveal">LA TRIBU EGOZN</h2>
            <p class="tribu-text scroll-reveal">
                EGOZN no es solo lo que vistes, es cómo vives. Somos una comunidad de personas
                que entienden que la vida no tiene pausas, que cada momento cuenta y que el estilo
                debe fluir con nosotros, no limitarnos.
            </p>
            <p class="tribu-highlight scroll-reveal">
                "No cambies de ropa, cambia de actitud"
            </p>
            <p class="tribu-text scroll-reveal">
                Desde el sudor del gimnasio hasta las luces de la ciudad, desde las reuniones de trabajo hasta las
                noches de celebración. EGOZN se mueve contigo,
                se adapta a tu ritmo, celebra tu versatilidad. Porque entendemos que la vida
                moderna no se detiene, y tu estilo tampoco debería hacerlo.
            </p>
        </div>
    </section>

    <!-- Carrito Sidebar -->
    <div class="carrito-sidebar" id="carritoSidebar">
        <div class="carrito-header">
            <h3 class="carrito-titulo">TU SELECCIÓN</h3>
            <span class="cerrar-carrito" onclick="toggleCarrito()" aria-label="Cerrar carrito" tabindex="0">×</span>
        </div>
        <div id="carrito-items">
            <!-- Items del carrito se agregarán dinámicamente -->
        </div>
        <div style="padding: 30px;">
            <!-- Resumen del pedido -->
            <div style="border-top: 1px solid var(--gris-oscuro); padding-top: 20px;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                    <span style="color: var(--plateado);">Subtotal</span>
                    <span style="color: var(--plateado-brillante); font-weight: 600;">€ <span id="carrito-subtotal">0</span></span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 12px; align-items: center;">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span style="color: var(--plateado);">Gastos de envío</span>
                        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="var(--plateado)" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="m9,12 l2,2 4,-4"/>
                        </svg>
                    </div>
                    <span style="color: var(--plateado-brillante); font-weight: 600;">Gratis</span>
                </div>
                <div style="color: var(--plateado); font-size: 14px; margin-bottom: 16px;">Entrega en 2-4 días laborables</div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 16px;">
                    <span style="color: var(--plateado);">Impuestos y tasas</span>
                    <span style="color: var(--plateado-brillante); font-weight: 600;">Incluido</span>
                </div>
                
                <!-- Código promocional -->
                <div style="margin-bottom: 20px;">
                    <button style="background: none; border: none; color: var(--plateado); font-size: 14px; cursor: pointer; text-decoration: underline;">
                        ¿Tiene un código promocional?
                    </button>
                </div>
                
                <!-- Total final -->
                <div style="display: flex; justify-content: space-between; font-size: 20px; font-weight: 700; color: var(--plateado-brillante); border-top: 2px solid var(--plateado); padding-top: 16px; margin-bottom: 30px;">
                    <span>TOTAL</span>
                    <span>€ <span id="carrito-total">0</span></span>
                </div>
            </div>
            
            <!-- Botón de pago -->
            <button onclick="finalizarCompra()" style="width: 100%; background: var(--negro-profundo); color: var(--plateado-brillante); border: 2px solid var(--plateado); padding: 16px; font-size: 16px; font-weight: 600; cursor: pointer; text-transform: uppercase; letter-spacing: 1px; transition: all 0.3s;">
                Finalizar Compra
            </button>
        </div>
    </div>

    <!-- Modal Producto -->
    <div class="producto-modal" id="productoModal" onclick="cerrarModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <span class="modal-close" onclick="cerrarModal()">×</span>
            <img src="" alt="" class="modal-imagen" id="modalImagen">
            <div class="modal-info">
                <h2 id="modalNombre" style="font-size: 36px; margin-bottom: 20px;"></h2>
                <p id="modalCategoria"
                    style="font-size: 16px; color: var(--plateado); margin-bottom: 20px; letter-spacing: 2px;"></p>
                <div style="margin-bottom: 30px;">
                    <span id="modalPrecioOriginal" style="text-decoration: line-through; color: var(--plateado); font-size: 24px; margin-right: 10px; display: none;"></span>
                    <span id="modalPrecio" style="font-size: 32px; color: var(--plateado-brillante);"></span>
                    <span id="modalDescuento" style="background: var(--rojo-tribal); color: white; padding: 4px 8px; border-radius: 4px; font-size: 14px; margin-left: 10px; display: none;"></span>
                </div>
                <p style="margin-bottom: 30px; line-height: 1.8;">
                    Diseñado para moverte sin límites. Esta pieza versátil se adapta a cada momento
                    de tu día, combinando tecnología avanzada con estilo urbano contempor áneo. Desde entrenamientos
                    intensos hasta salidas nocturnas, EGOZN está contigo.
                </p>
                <div style="margin-bottom: 30px;">
                    <h4 style="margin-bottom: 15px;">CARACTERÍSTICAS LIFESTYLE:</h4>
                    <ul style="list-style: none;">
                        <li>✓ Tejido técnico que respira y se mueve contigo</li>
                        <li>✓ Diseño versátil gym-to-street</li>
                        <li>✓ Tecnología anti-olor y secado rápido</li>
                        <li>✓ Corte moderno que favorece tu silueta</li>
                        <li>✓ Resistente para tu ritmo de vida</li>
                    </ul>
                </div>
                <div style="display: flex; gap: 20px; margin-bottom: 30px;">
                    <select
                        style="flex: 1; padding: 15px; background: var(--negro-profundo); border: 1px solid var(--plateado); color: var(--plateado);">
                        <option>TALLA S</option>
                        <option>TALLA M</option>
                        <option>TALLA L</option>
                        <option>TALLA XL</option>
                        <option>TALLA XXL</option>
                    </select>
                    <input type="number" value="1" min="1"
                        style="width: 80px; padding: 15px; background: var(--negro-profundo); border: 1px solid var(--plateado); color: var(--plateado); text-align: center;">
                </div>
                <button class="cta-button" style="width: 100%;" onclick="agregarAlCarrito()">
                    AÑADIR A MI ESTILO
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de Login -->
    <div class="login-modal" id="loginModal">
        <div class="login-content">
            <span class="login-close" onclick="toggleLogin()">&times;</span>
            <h2 class="login-title">ÚNETE A EGOZN</h2>
            
            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchTab('login')">INICIAR SESIÓN</button>
                <button class="auth-tab" onclick="switchTab('register')">REGISTRARSE</button>
            </div>

            <!-- Formulario de Login -->
            <div id="loginForm" class="login-form">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="loginEmail" class="form-input" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Contraseña</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="••••••••" required>
                </div>
                <button type="button" class="login-button" onclick="loginUser()">INICIAR SESIÓN</button>
            </div>

            <!-- Formulario de Registro -->
            <div id="registerForm" class="login-form" style="display: none;">
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" id="registerEmail" class="form-input" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Contraseña</label>
                    <input type="password" id="registerPassword" class="form-input" placeholder="••••••••" required>
                </div>
                <div class="form-group">
                    <label class="form-label">Confirmar Contraseña</label>
                    <input type="password" id="confirmPassword" class="form-input" placeholder="••••••••" required>
                </div>
                <button type="button" class="login-button" onclick="registerUser()">CREAR CUENTA</button>
            </div>

            <div class="auth-divider">
                <span>O continúa con</span>
            </div>

            <div class="social-login">
                <button class="social-button" onclick="loginWithGoogle()">
                    <svg width="18" height="18" viewBox="0 0 24 24">
                        <path fill="#4285f4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                        <path fill="#34a853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#fbbc05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#ea4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Continuar con Google
                </button>
            </div>

            <!-- Info del usuario logueado -->
            <div class="user-info" id="userInfo">
                <span id="userEmail"></span>
                <button class="logout-button" onclick="logoutUser()">Cerrar Sesión</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-columna">
                <h3>EGOZN LIFESTYLE</h3>
                <p style="margin: 20px 0; line-height: 1.8;">
                    No es una marca, es tu estilo de vida. Únete a miles que viven
                    sin límites, sin cambios de ropa innecesarios, con estilo 24/7.
                </p>
                <div class="social-icons">
                    <a href="#" class="social-icon"></a>
                    <a href="#" class="social-icon"></a>
                    <a href="#" class="social-icon"></a>
                    <a href="#" class="social-icon"></a>
                </div>
            </div>
            <div class="footer-columna">
                <h3>EXPLORA</h3>
                <ul class="footer-links">
                    <li><a href="#productos">Colección Lifestyle</a></li>
                    <li><a href="#gym">Línea Gym</a></li>
                    <li><a href="#casual">Daily Essentials</a></li>
                    <li><a href="#night">Night Collection</a></li>
                </ul>
            </div>
            <div class="footer-columna">
                <h3>EXPERIENCIA EGOZN</h3>
                <ul class="footer-links">
                    <li><a href="#envios">Envíos Express</a></li>
                    <li><a href="#cambios">Cambios Flexibles</a></li>
                    <li><a href="#tallas">Guía de Fit</a></li>
                    <li><a href="#cuidados">Cuidado Fácil</a></li>
                    <li><a href="#faq">Preguntas Frecuentes</a></li>
                </ul>
            </div>
            <div class="footer-columna">
                <h3>VIVE EL LIFESTYLE</h3>
                <p style="margin: 20px 0;">
                    Recibe inspiración, nuev as colecciones y tips de estilo versátil directamente en tu inbox.
                </p>
                <form style="margin-top: 20px;">
                    <input type="email" placeholder="tu@email.com"
                        style="width: 100%; padding: 15px; background: var(--negro-profundo); border: 1px solid var(--plateado); color: var(--plateado); margin-bottom: 15px;">
                    <button type="submit" class="cta-button" style="width: 100%; font-size: 16px;">
                        UNIRSE AL LIFESTYLE
                    </button>
                </form>
            </div>
        </div>
        <div style="text-align: center; margin-top: 40px; padding-top: 40px; border-top: 1px solid var(--gris-oscuro);">
            <p>&copy; 2025 EGOZN. No es una marca, es un estilo de vida. Todos los derechos reservados.</p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        // Loader
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('loader').style.display = 'none';
            }, 2000);
        });

        // Mobile Menu con mejoras responsive
        function toggleMenu() {
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const body = document.body;

            // Toggle clases
            navMenu.classList.toggle('active');
            mobileToggle.classList.toggle('active');

            // Prevenir scroll cuando el menú está abierto en móvil
            if (navMenu.classList.contains('active')) {
                body.style.overflow = 'hidden';
                body.style.position = 'fixed';
                body.style.width = '100%';
            } else {
                body.style.overflow = '';
                body.style.position = '';
                body.style.width = '';
            }
        }

        // Cerrar menú móvil al hacer click en un enlace
        document.querySelectorAll('.nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                const navMenu = document.getElementById('navMenu');
                const mobileToggle = document.querySelector('.mobile-menu-toggle');

                if (navMenu.classList.contains('active')) {
                    navMenu.classList.remove('active');
                    mobileToggle.classList.remove('active');
                    document.body.style.overflow = '';
                    document.body.style.position = '';
                    document.body.style.width = '';
                }
            });
        });

        // Cerrar menú móvil al hacer click fuera
        document.addEventListener('click', (e) => {
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');
            const navContainer = document.querySelector('.nav-container');

            if (!navContainer.contains(e.target) && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                mobileToggle.classList.remove('active');
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }
        });

        // Cerrar menú móvil al redimensionar ventana
        window.addEventListener('resize', () => {
            const navMenu = document.getElementById('navMenu');
            const mobileToggle = document.querySelector('.mobile-menu-toggle');

            if (window.innerWidth > 767 && navMenu.classList.contains('active')) {
                navMenu.classList.remove('active');
                mobileToggle.classList.remove('active');
                document.body.style.overflow = '';
                document.body.style.position = '';
                document.body.style.width = '';
            }
        });

        // Carrito
        let carrito = [];
        
        // Variables para guardar posición del scroll
        let scrollPosition = 0;

        // Funciones auxiliares para manejar el scroll
        function bloquearScroll() {
            scrollPosition = window.pageYOffset;
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollPosition}px`;
            document.body.style.width = '100%';
            document.body.classList.add('no-scroll');
            document.documentElement.classList.add('no-scroll');
        }

        function desbloquearScroll() {
            document.body.classList.remove('no-scroll');
            document.documentElement.classList.remove('no-scroll');
            document.body.style.position = '';
            document.body.style.top = '';
            document.body.style.width = '';
            window.scrollTo(0, scrollPosition);
        }

        function toggleCarrito() {
            const carritoSidebar = document.getElementById('carritoSidebar');

            carritoSidebar.classList.toggle('active');

            // Prevenir scroll cuando el carrito está abierto
            if (carritoSidebar.classList.contains('active')) {
                bloquearScroll();
            } else {
                desbloquearScroll();
            }
        }

        function agregarAlCarrito() {
            // Simular agregar producto
            const nombre = document.getElementById('modalNombre').textContent;
            const categoria = document.getElementById('modalCategoria').textContent;
            const precio = parseFloat(document.getElementById('modalPrecio').textContent.replace('€', ''));
            const cantidadInput = document.querySelector('.modal-content input[type="number"]');
            const cantidad = cantidadInput ? parseInt(cantidadInput.value) : 1;
            
            // Obtener imagen del modal
            const img = document.getElementById('modalImagen');
            
            // Obtener talla y color seleccionados
            const tallaSelect = document.querySelector('.modal-content select');
            const talla = tallaSelect ? tallaSelect.value : 'S (EU)';
            const color = 'Marrón'; // Por ahora fijo, se puede hacer dinámico
            
            // Obtener información de descuento si existe
            const precioOriginalElement = document.getElementById('modalPrecioOriginal');
            const descuentoElement = document.getElementById('modalDescuento');
            const precioOriginal = precioOriginalElement ? parseFloat(precioOriginalElement.textContent.replace('€', '')) : null;
            const descuento = descuentoElement ? parseInt(descuentoElement.textContent.replace('%', '').replace('-', '')) : null;

            // Si ya existe el producto con la misma talla y color, suma la cantidad
            let encontrado = false;
            carrito.forEach(item => {
                // Compatibilidad con formato anterior y nuevo
                const itemName = item.title || item.nombre;
                const itemSize = item.size || item.talla;
                const itemPrice = item.price || item.precio;
                
                if (itemName === nombre && itemPrice === precio && itemSize === talla) {
                    if (item.quantity) {
                        item.quantity += cantidad;
                    } else {
                        item.cantidad += cantidad;
                    }
                    encontrado = true;
                }
            });
            if (!encontrado) {
                // Usar formato unificado
                carrito.push({ 
                    id: `${nombre.toLowerCase().replace(/\s+/g, '-')}-${categoria.toLowerCase()}`,
                    title: nombre,
                    nombre: nombre, // Mantener compatibilidad
                    category: categoria,
                    categoria: categoria, // Mantener compatibilidad
                    price: precio,
                    precio: precio, // Mantener compatibilidad
                    quantity: cantidad,
                    cantidad: cantidad, // Mantener compatibilidad
                    size: talla,
                    talla: talla, // Mantener compatibilidad
                    color: color,
                    image: img.src,
                    originalPrice: precioOriginal,
                    precioOriginal: precioOriginal, // Mantener compatibilidad
                    discount: descuento,
                    descuento: descuento // Mantener compatibilidad
                });
            }
            actualizarCarrito();
            cerrarModal();
            toggleCarrito();
        }

        async function actualizarCarrito() {
            const carritoCount = document.getElementById('carrito-count');
            const carritoItems = document.getElementById('carrito-items');
            const carritoTotal = document.getElementById('carrito-total');

            // Actualizar contador - solo mostrar número si hay items
            carritoCount.textContent = carrito.length > 0 ? carrito.length : '0';
            carritoCount.style.display = carrito.length > 0 ? 'flex' : 'none';

            let total = 0;
            let html = '';

            carrito.forEach((item, index) => {
                // Compatibilidad con formato anterior y nuevo
                const precio = item.price || item.precio;
                const cantidad = item.quantity || item.cantidad;
                const nombre = item.title || item.nombre;
                const categoria = item.category || item.categoria;
                const talla = item.size || item.talla;
                const precioOriginal = item.originalPrice || item.precioOriginal;
                const descuento = item.discount || item.descuento;
                
                total += precio * cantidad;
                
                // Usar los datos reales de descuento del producto
                const tieneDescuento = precioOriginal && descuento;
                const preciosHtml = tieneDescuento ? 
                    `<div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                        <span style="text-decoration: line-through; color: var(--plateado); font-size: 14px;">€ ${precioOriginal.toFixed(0)}</span>
                        <span style="color: var(--plateado-brillante); font-size: 16px; font-weight: 600;">€ ${precio.toFixed(0)}</span>
                        <span style="background: var(--rojo-tribal); color: white; padding: 2px 6px; border-radius: 4px; font-size: 12px;">-${descuento}%</span>
                    </div>` :
                    `<div style="margin-bottom: 8px;">
                        <span style="color: var(--plateado-brillante); font-size: 16px; font-weight: 600;">€ ${precio.toFixed(0)}</span>
                    </div>`;
                
                html += `
                <div style="display: flex; padding: 20px; border-bottom: 1px solid var(--gris-oscuro); gap: 16px;">
                    <!-- Imagen del producto -->
                    <div style="flex-shrink: 0;">
                        <img src="${item.image || 'Img/EGOZN.png'}" alt="${nombre}" style="width: 80px; height: 100px; object-fit: cover; border-radius: 8px; background: var(--gris-carbon);">
                    </div>
                    
                    <!-- Información del producto -->
                    <div style="flex: 1; display: flex; flex-direction: column;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px;">
                            <h4 style="font-size: 16px; font-weight: 600; color: var(--plateado-brillante); margin: 0;">${nombre.toUpperCase()}</h4>
                        </div>
                        
                        <!-- Precios -->
                        ${preciosHtml}
                        
                        <!-- Detalles -->
                        <div style="margin-bottom: 12px;">
                            <p style="font-size: 14px; color: var(--plateado); margin: 2px 0;">Color: ${item.color || 'Marrón'}</p>
                            <p style="font-size: 14px; color: var(--plateado); margin: 2px 0;">Talla: ${talla || 'S (EU)'}</p>
                        </div>
                        
                        <!-- Controles de cantidad -->
                        <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                            <button onclick="restarCantidad(${index})" style="background: none; border: 1px solid var(--plateado); width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--plateado); border-radius: 4px;">
                                −
                            </button>
                            <span style="font-size: 16px; font-weight: 500; min-width: 20px; text-align: center;">${cantidad}</span>
                            <button onclick="sumarCantidad(${index})" style="background: none; border: 1px solid var(--plateado); width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; cursor: pointer; color: var(--plateado); border-radius: 4px;">
                                +
                            </button>
                            <div style="margin-left: auto; font-size: 18px; font-weight: 600; color: var(--plateado-brillante);">
                                € ${(precio * cantidad).toFixed(0)}
                            </div>
                        </div>
                        
                        <!-- Acciones -->
                        <div style="display: flex; gap: 16px; align-items: center;">
                            <button title="Editar" style="background: none; border: none; color: var(--plateado); cursor: pointer; padding: 4px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                            <button title="Favorito" style="background: none; border: none; color: var(--plateado); cursor: pointer; padding: 4px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                                </svg>
                            </button>
                            <button onclick="eliminarDelCarrito(${index})" title="Eliminar" style="background: none; border: none; color: var(--plateado); cursor: pointer; padding: 4px;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3,6 5,6 21,6"/>
                                    <path d="m19,6v14a2,2 0 0 1-2,2H7a2,2 0 0 1-2-2V6m3,0V4a2,2 0 0 1,2-2h4a2,2 0 0 1,2,2v2"/>
                                    <line x1="10" y1="11" x2="10" y2="17"/>
                                    <line x1="14" y1="11" x2="14" y2="17"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
                `;
            });

            carritoItems.innerHTML = html || '<p style="padding: 40px; text-align: center;">Tu selección está vacía</p>';
            carritoTotal.textContent = total.toFixed(0);
            
            // Actualizar también el subtotal
            const subtotalElement = document.getElementById('carrito-subtotal');
            if (subtotalElement) {
                subtotalElement.textContent = total.toFixed(0);
            }

            // 🛒 GUARDAR AUTOMÁTICAMENTE EN BD SI ESTÁ LOGUEADO
            if (isUserLoggedIn) {
                saveCartToDatabase().catch(console.error);
            }
        }

        function restarCantidad(index) {
            const item = carrito[index];
            const cantidad = item.quantity || item.cantidad;
            
            if (cantidad > 1) {
                if (item.quantity) {
                    item.quantity--;
                } else {
                    item.cantidad--;
                }
            } else {
                carrito.splice(index, 1);
            }
            actualizarCarrito();
        }

        function sumarCantidad(index) {
            const item = carrito[index];
            if (item.quantity) {
                item.quantity++;
            } else {
                item.cantidad++;
            }
            actualizarCarrito();
        }

        function eliminarDelCarrito(index) {
            carrito.splice(index, 1);
            actualizarCarrito();
        }

        // Modal Producto
        document.querySelectorAll('.producto-card').forEach(card => {
            card.addEventListener('click', function () {
                const img = this.querySelector('.producto-img');
                const nombre = this.querySelector('.producto-nombre').textContent;
                const categoria = this.querySelector('.producto-categoria').textContent;
                const precio = this.querySelector('.producto-precio').textContent;
                
                // Buscar si hay precio original y descuento
                const precioOriginal = this.querySelector('.precio-original');
                const descuento = this.querySelector('.descuento');

                document.getElementById('modalImagen').src = img.src;
                document.getElementById('modalNombre').textContent = nombre;
                document.getElementById('modalCategoria').textContent = categoria;
                document.getElementById('modalPrecio').textContent = precio;
                
                // Manejar descuentos
                const modalPrecioOriginal = document.getElementById('modalPrecioOriginal');
                const modalDescuento = document.getElementById('modalDescuento');
                
                if (precioOriginal && descuento) {
                    modalPrecioOriginal.textContent = precioOriginal.textContent;
                    modalPrecioOriginal.style.display = 'inline';
                    modalDescuento.textContent = descuento.textContent;
                    modalDescuento.style.display = 'inline';
                } else {
                    modalPrecioOriginal.style.display = 'none';
                    modalDescuento.style.display = 'none';
                }
                
                // Usar la función abrirModal que incluye el bloqueo de scroll
                abrirModal(this);
            });
        });

        function cerrarModal() {
            const modal = document.getElementById('productoModal');
            if (modal) {
                modal.style.display = 'none';
                // Restaurar scroll manteniendo posición
                desbloquearScroll();
            }
        }

        // Mejorar la apertura del modal para móvil
        function abrirModal(elemento) {
            const modal = document.getElementById('productoModal');
            if (modal) {
                modal.style.display = 'flex';
                // Bloquear scroll manteniendo posición
                bloquearScroll();
            }
        }

        // Filtros
        function filtrarProductos(categoria) {
            const productos = document.querySelectorAll('.producto-card');
            const botones = document.querySelectorAll('.filtro-btn');

            botones.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            productos.forEach(producto => {
                if (categoria === 'todos' || producto.dataset.categoria?.includes(categoria)) {
                    producto.style.display = 'block';
                } else {
                    producto.style.display = 'none';
                }
            });
        }

        // Scroll Reveal Animation
        const scrollReveal = () => {
            const elements = document.querySelectorAll('.scroll-reveal');

            elements.forEach(element => {
                const elementTop = element.getBoundingClientRect().top;
                const elementBottom = element.getBoundingClientRect().bottom;

                if (elementTop < window.innerHeight && elementBottom > 0) {
                    element.classList.add('active');
                }
            });
        };

        window.addEventListener('scroll', scrollReveal);
        scrollReveal();

        // Parallax Effect
        window.addEventListener('scroll', () => {
            const scrolled = window.pageYOffset;
            const parallax = document.querySelector('.parallax-bg');
            parallax.style.transform = `translateY(${scrolled * 0.5}px)`;
        });

        // Smooth Scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Sistema de notificaciones
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: -400px;
                background: var(--gris-carbon);
                border: 2px solid var(--plateado);
                padding: 20px 30px;
                color: var(--plateado-brillante);
                font-size: 18px;
                font-weight: 700;
                letter-spacing: 2px;
                z-index: 4000;
                transition: right 0.5s ease-out;
                box-shadow: 0 0 30px rgba(192, 192, 192, 0.5);
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.right = '20px';
            }, 100);

            setTimeout(() => {
                notification.style.right = '-400px';
                setTimeout(() => notification.remove(), 500);
            }, 3000);
        }

        // Mejorar la función de agregar al carrito con notificación
        const originalAgregarAlCarrito = agregarAlCarrito;
        agregarAlCarrito = function () {
            originalAgregarAlCarrito();
            showNotification('¡AÑADIDO A TU ESTILO!');
        };

        // Indicador de progreso de scroll
        window.addEventListener('scroll', () => {
            const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
            const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const scrolled = (winScroll / height) * 100;
            document.getElementById('scrollIndicator').style.width = scrolled + '%';
        });

        // Product Hover 3D Effect
        document.querySelectorAll('.producto-card').forEach(card => {
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                const rotateX = (y - centerY) / 10;
                const rotateY = (centerX - x) / 10;

                card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateZ(10px)`;
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) translateZ(0)';
            });
        });

        // Guardar estado del carrito en localStorage
        function guardarCarrito() {
            localStorage.setItem('egoznCarrito', JSON.stringify(carrito));
        }

        function cargarCarrito() {
            const carritoGuardado = localStorage.getItem('egoznCarrito');
            if (carritoGuardado) {
                carrito = JSON.parse(carritoGuardado);
                actualizarCarrito();
            }
        }

        cargarCarrito();

        // Actualizar guardado cuando se modifica el carrito
        const originalActualizarCarrito = actualizarCarrito;
        actualizarCarrito = function () {
            originalActualizarCarrito();
            guardarCarrito();
        };

        // Animaciones de entrada para lifestyle badges
        document.querySelectorAll('.lifestyle-badge').forEach((badge, index) => {
            badge.style.animation = `fadeInUp 0.5s ease-out ${index * 0.1}s forwards`;
            badge.style.opacity = '0';
        });

        // Easter Egg - Código Lifestyle
        let lifestyleClicks = 0;
        document.querySelector('.hero-slogan').addEventListener('click', () => {
            lifestyleClicks++;
            if (lifestyleClicks === 7) {
                document.body.style.animation = 'epicMode 2s ease-in-out';
                showNotification('¡MODO LIFESTYLE EXTREMO ACTIVADO!');
                lifestyleClicks = 0;

                setTimeout(() => {
                    document.body.style.animation = '';
                }, 2000);
            }
        });

        // Detección de tiempo del día para sugerencias
        const hour = new Date().getHours();
        let timeMessage = '';

        if (hour >= 5 && hour < 10) {
            timeMessage = '¡Buenos días! ¿Listo para el gym?';
        } else if (hour >= 10 && hour < 17) {
            timeMessage = 'Perfecto para tu día productivo';
        } else if (hour >= 17 && hour < 21) {
            timeMessage = 'Hora del after work con estilo';
        } else {
            timeMessage = '¡La noche es tuya!';
        }

        setTimeout(() => {
            showNotification(timeMessage);
        }, 3000);

        // Inicialización completa
        document.addEventListener('DOMContentLoaded', () => {
            console.log('%cEGOZN LIFESTYLE', 'font-size: 50px; font-weight: bold; background: linear-gradient(45deg, #c0c0c0, #e8e8e8); -webkit-background-clip: text; -webkit            -text-fill-color: transparent;');
            console.log('%cNo es una marca, es un estilo de vida', 'font-size: 20px; color: #c0c0c0;');

            // Mejorar funcionalidad del modal close en móvil
            const modalClose = document.querySelector('.modal-close');
            if (modalClose) {
                // Agregar eventos táctiles específicos
                modalClose.addEventListener('touchstart', function (e) {
                    e.preventDefault();
                    this.style.transform = 'scale(0.9)';
                    this.style.background = 'var(--plateado)';
                    this.style.color = 'var(--negro-profundo)';
                });

                modalClose.addEventListener('touchend', function (e) {
                    e.preventDefault();
                    this.style.transform = 'scale(1)';
                    this.style.background = 'rgba(10, 10, 10, 0.9)';
                    this.style.color = 'var(--plateado)';
                    // Ejecutar el cierre del modal
                    setTimeout(() => cerrarModal(), 100);
                });

                // Prevenir comportamiento por defecto en móvil
                modalClose.addEventListener('touchmove', function (e) {
                    e.preventDefault();
                });
            }

            // Cerrar modal al tocar fuera de él en móvil
            const modal = document.getElementById('productoModal');
            if (modal) {
                modal.addEventListener('touchstart', function (e) {
                    if (e.target === this) {
                        cerrarModal();
                    }
                });

                // Prevenir scroll del body cuando se hace scroll en el modal
                const modalContent = modal.querySelector('.modal-content');
                if (modalContent) {
                    modalContent.addEventListener('touchmove', function (e) {
                        e.stopPropagation();
                    });
                }
            }

            // Prevenir scroll del body cuando se hace scroll en el carrito
            const carritoSidebar = document.getElementById('carritoSidebar');
            if (carritoSidebar) {
                carritoSidebar.addEventListener('touchmove', function (e) {
                    e.stopPropagation();
                });

                // También prevenir en el contenido específico del carrito
                const carritoContenido = carritoSidebar.querySelector('.carrito-contenido');
                if (carritoContenido) {
                    carritoContenido.addEventListener('touchmove', function (e) {
                        e.stopPropagation();
                    });
                }
            }

            // Cerrar dropdown de usuario al hacer clic fuera
            document.addEventListener('click', function(e) {
                const dropdown = document.getElementById('userDropdown');
                const profileIcon = document.querySelector('.profile-icon');
                
                // Si se hace clic fuera del dropdown y el icono de perfil
                if (dropdown && !dropdown.contains(e.target) && !profileIcon.contains(e.target)) {
                    dropdown.classList.remove('active');
                }
            });
        });

        // Animación de texto cambiante con frases mejoradas
        const lifestylePhrases = [
            {
                main: "Entrena intenso, vive elegante",
                sub: "Una prenda que evoluciona contigo"
            },
            {
                main: "Desde el amanecer hasta la madrugada",
                sub: "Tu compañero perfecto en cada momento"
            },
            {
                main: "Tecnología que respira, diseño que inspira",
                sub: "Innovación al servicio de tu lifestyle"
            },
            {
                main: "No cambies de ropa, cambia de actitud",
                sub: "La versatilidad redefinida"
            },
            {
                main: "Sudor, estilo, éxito",
                sub: "Todo en una sola decisión"
            },
            {
                main: "Rompe las reglas del vestuario",
                sub: "Crea tu propia definición de estilo"
            }
        ];

        let phraseIndex = 0;

        function changeHeroPhrase() {
            const subslogan = document.querySelector('.hero-subslogan');
            if (subslogan) {
                // Transición de salida más elegante
                subslogan.style.transform = 'translateY(-30px) scale(0.95)';
                subslogan.style.opacity = '0';
                subslogan.style.filter = 'blur(5px)';

                setTimeout(() => {
                    phraseIndex = (phraseIndex + 1) % lifestylePhrases.length;
                    const currentPhrase = lifestylePhrases[phraseIndex];
                    subslogan.innerHTML = `${currentPhrase.main}<br><span style="font-size: 0.85em; opacity: 0.9;">${currentPhrase.sub}</span>`;

                    // Transición de entrada más elegante
                    subslogan.style.transform = 'translateY(30px) scale(1.05)';

                    setTimeout(() => {
                        subslogan.style.transform = 'translateY(0) scale(1)';
                        subslogan.style.opacity = '1';
                        subslogan.style.filter = 'blur(0px)';
                    }, 100);
                }, 600);
            }
        }

        // Iniciar el ciclo con timing más pausado
        setInterval(changeHeroPhrase, 6500);

        // Efecto de respiración en los lifestyle badges
        document.querySelectorAll('.lifestyle-badge').forEach((badge, index) => {
            badge.style.animation = `breathe ${2 + index * 0.2}s ease-in-out infinite`;
        });

        // Tracking de interacciones
        function trackEvent(category, action, label) {
            console.log(`[EGOZN Analytics] ${category}: ${action} - ${label}`);
        }

        document.querySelectorAll('.lifestyle-card').forEach((card, index) => {
            card.addEventListener('click', () => {
                const title = card.querySelector('.lifestyle-title').textContent;
                trackEvent('Lifestyle', 'view', title);
            });
        });

        // Sistema de recomendaciones basado en hora del día
        function recomendarProductos() {
            const hour = new Date().getHours();
            let recomendacion = '';

            if (hour >= 5 && hour < 12) {
                recomendacion = 'gym';
                showNotification('🏋️ Mira nuestra colección GYM & SPORT');
            } else if (hour >= 12 && hour < 18) {
                recomendacion = 'casual';
                showNotification('☀️ Descubre nuestros CASUAL DAILY essentials');
            } else {
                recomendacion = 'night';
                showNotification('🌙 Explora la colección NIGHT OUT');
            }

            // Resaltar productos recomendados
            document.querySelectorAll('.producto-card').forEach(card => {
                if (card.dataset.categoria.includes(recomendacion)) {
                    card.style.boxShadow = '0 0 20px rgba(192, 192, 192, 0.5)';
                }
            });
        }

        setTimeout(recomendarProductos, 5000);

        // Mensaje de despedida personalizado
        window.addEventListener('beforeunload', () => {
            const messages = [
                '¡Vive tu estilo!',
                'EGOZN va contigo',
                'Sin límites, sin cambios',
                'Tu vida, tu ritmo, tu estilo'
            ];
            console.log(messages[Math.floor(Math.random() * messages.length)]);
        });

        // Animación especial para el logo en scroll
        let lastScrollTop = 0;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const logo = document.querySelector('.logo');

            if (scrollTop > lastScrollTop) {
                // Scrolling down
                logo.style.transform = 'scale(0.9)';
            } else {
                // Scrolling up
                logo.style.transform = 'scale(1)';
            }
            lastScrollTop = scrollTop;
        });

        // Efecto de partículas en hover sobre CTA buttons
        document.querySelectorAll('.cta-button').forEach(button => {
            button.addEventListener('mouseenter', function (e) {
                const rect = this.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;

                const ripple = document.createElement('span');
                ripple.style.cssText = `
                    position: absolute;
                    background: var(--plateado);
                    transform: translate(-50%, -50%);
                    pointer-events: none;
                    border-radius: 50%;
                    animation: ripple 0.6s ease                    -out;
                    left: ${x}px;
                    top: ${y}px;
                `;
                this.style.position = 'relative';
                this.style.overflow = 'hidden';
                this.appendChild(ripple);

                setTimeout(() => ripple.remove(), 600);
            });
        });

        // Efecto de partículas metálicas
        const createMetallicParticles = () => {
            const particlesContainer = document.createElement('div');
            particlesContainer.style.position = 'fixed';
            particlesContainer.style.top = '0';
            particlesContainer.style.left = '0';
            particlesContainer.style.width = '100%';
            particlesContainer.style.height = '100%';
            particlesContainer.style.pointerEvents = 'none';
            particlesContainer.style.zIndex = '1';
            document.body.appendChild(particlesContainer);

            setInterval(() => {
                if (Math.random() > 0.8) {
                    const particle = document.createElement('div');
                    particle.style.position = 'absolute';
                    particle.style.width = '2px';
                    particle.style.height = '2px';
                    particle.style.background = 'var(--plateado)';
                    particle.style.left = Math.random() * window.innerWidth + 'px';
                    particle.style.top = '-10px';
                    particle.style.boxShadow = '0 0 10px var(--plateado)';
                    particlesContainer.appendChild(particle);

                    let posY = -10;
                    const speed = 1 + Math.random() * 2;
                    const drift = (Math.random() - 0.5) * 2;

                    const fall = setInterval(() => {
                        posY += speed;
                        particle.style.top = posY + 'px';
                        particle.style.left = parseFloat(particle.style.left) + drift + 'px';
                        particle.style.opacity = 1 - (posY / window.innerHeight);

                        if (posY > window.innerHeight) {
                            clearInterval(fall);
                            particle.remove();
                        }
                    }, 20);
                }
            }, 200);
        };

        if (window.innerWidth > 1024) {
            createMetallicParticles();
        }

        // CSS para el efecto ripple
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                from {
                    width: 0;
                    height: 0;
                    opacity: 1;
                }
                to {
                    width: 100px;
                    height: 100px;
                    opacity: 0;
                }
            }
            
            @keyframes breathe {
                0%, 100% {
                    transform: scale(1);
                    opacity: 0.8;
                }
                50% {
                    transform: scale(1.05);
                    opacity: 1;
                }
            }
            
            @keyframes epicMode {
                0% {
                    filter: hue-rotate(0deg) saturate(1);
                }
                50% {
                    filter: hue-rotate(180deg) saturate(3);
                }
                100% {
                    filter: hue-rotate(360deg) saturate(1);
                }
            }
        `;
        document.head.appendChild(style);

        // Función para detectar si el usuario está en móvil
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

        if (isMobile) {
            // Optimizaciones para móvil
            document.querySelectorAll('.producto-card').forEach(card => {
                card.addEventListener('touchstart', function () {
                    this.style.transform = 'scale(0.98)';
                });
                card.addEventListener('touchend', function () {
                    this.style.transform = 'scale(1)';
                });
            });
        }

        // Sistema de favoritos
        let favoritos = JSON.parse(localStorage.getItem('egoznFavoritos')) || [];

        function toggleFavorito(productoNombre) {
            const index = favoritos.indexOf(productoNombre);
            if (index === -1) {
                favoritos.push(productoNombre);
                showNotification('❤️ Añadido a favoritos');
            } else {
                favoritos.splice(index, 1);
                showNotification('💔 Eliminado de favoritos');
            }
            localStorage.setItem('egoznFavoritos', JSON.stringify(favoritos));
        }

        // Contador de visitas
        let visitas = parseInt(localStorage.getItem('egoznVisitas') || '0');
        visitas++;
        localStorage.setItem('egoznVisitas', visitas);

        if (visitas === 1) {
            setTimeout(() => {
                showNotification('¡Bienvenido a EGOZN! 🎉');
            }, 2000);
        } else if (visitas % 5 === 0) {
            setTimeout(() => {
                showNotification(`¡Gracias por tu visita #${visitas}! 🙏`);
            }, 2000);
        }

        // Modo oscuro automático según la hora
        const checkDarkMode = () => {
            const hour = new Date().getHours();
            if (hour >= 20 || hour < 6) {
                document.documentElement.style.setProperty('--negro-profundo', '#000000');
                document.documentElement.style.setProperty('--gris-carbon', '#0a0a0a');
            }
        };
        checkDarkMode();

        // Efecto de carga progresiva de imágenes
        const imageObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.style.opacity = '0';
                    img.style.filter = 'blur(5px)';

                    img.addEventListener('load', () => {
                        img.style.transition = 'opacity 0.5s, filter 0.5s';
                        img.style.opacity = '1';
                        img.style.filter = 'blur(0)';
                    });

                    observer.unobserve(img);
                }
            });
        });

        document.querySelectorAll('img').forEach(img => {
            // Excluir la imagen del logo del efecto de blur
            if (img.id !== 'logoTest') {
                imageObserver.observe(img);
            }
        });

        // Auto-desplegar lifestyle cards solo en móviles cuando llegan a la vista
        if (window.innerWidth <= 767 && 'ontouchstart' in window) {
            const lifestyleObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const card = entry.target;
                    if (entry.isIntersecting) {
                        // Primero quitar auto-active de todos los demás cards
                        document.querySelectorAll('.lifestyle-card').forEach(otherCard => {
                            if (otherCard !== card) {
                                otherCard.classList.remove('auto-active');
                            }
                        });
                        // Luego activar el card actual
                        card.classList.add('auto-active');
                    } else {
                        // Quitar auto-active cuando sale de vista
                        card.classList.remove('auto-active');
                    }
                });
            }, {
                threshold: 0.6, // Se activa cuando el 60% del elemento es visible
                rootMargin: '-20px 0px -20px 0px' // Margen para mejor control
            });

            // Observar todos los lifestyle cards
            document.querySelectorAll('.lifestyle-card').forEach(card => {
                lifestyleObserver.observe(card);
            });
        }



        // Mejoras responsive adicionales

        // Detectar orientación del dispositivo
        function handleOrientationChange() {
            const isLandscape = window.innerWidth > window.innerHeight;
            document.body.classList.toggle('landscape', isLandscape);

            // Ajustar altura del hero en móviles landscape
            if (window.innerWidth <= 767 && isLandscape) {
                document.querySelector('.hero').style.height = '100vh';
            }
        }

        window.addEventListener('orientationchange', handleOrientationChange);
        window.addEventListener('resize', handleOrientationChange);
        handleOrientationChange();

        // Mejorar scroll suave en todos los dispositivos
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    const offsetTop = target.offsetTop - (window.innerWidth <= 767 ? 80 : 100);
                    window.scrollTo({
                        top: offsetTop,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Optimizar rendimiento en scroll para móviles
        let ticking = false;
        function updateScrollIndicator() {
            const scrolled = window.pageYOffset;
            const maxHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrolled / maxHeight) * 100;

            const indicator = document.getElementById('scrollIndicator');
            if (indicator) {
                indicator.style.width = scrollPercent + '%';
            }

            ticking = false;
        }

        window.addEventListener('scroll', () => {
            if (!ticking) {
                requestAnimationFrame(updateScrollIndicator);
                ticking = true;
            }
        });

        // Finalización
        console.log('EGOZN Lifestyle Store - Fully Responsive & Ready! 🚀📱💻');
        console.log('Optimized for Mobile, Tablet, Desktop & Touch devices');

        // ============== SUPABASE AUTHENTICATION ==============
        
        // SDK de Supabase
        const SUPABASE_URL = 'https://cytfuqxdwllkrvxecwjg.supabase.co'
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN5dGZ1cXhkd2xsa3J2eGVjd2pnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMDQwNjksImV4cCI6MjA3MTg4MDA2OX0.ePYV-d38rJlc-iXQTAaQMB4cbfegEs_WbbqWjRDmWpw'
        
        // Importar Supabase (versión CDN)
        const supabaseScript = document.createElement('script');
        supabaseScript.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';
        document.head.appendChild(supabaseScript);
        
        let supabase;
        
        supabaseScript.onload = function() {
            // Inicializar Supabase con las credenciales configuradas
            supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
            
            // 🗄️ Inicializar tablas necesarias
            initializeDatabaseTables();
            
            // Verificar si hay usuario logueado al cargar la página
            checkUser();
            
            // Manejar tokens de OAuth en la URL (cuando regresa de Google)
            handleOAuthCallback();
            
            // Escuchar cambios de autenticación
            supabase.auth.onAuthStateChange((event, session) => {
                if (event === 'SIGNED_IN') {
                    showUserInfo(session.user);
                    // Limpiar la URL si tiene tokens de OAuth
                    if (window.location.hash.includes('access_token')) {
                        window.history.replaceState({}, document.title, window.location.pathname);
                    }
                } else if (event === 'SIGNED_OUT') {
                    hideUserInfo();
                }
            });
            
            console.log('🔐 Supabase Authentication Ready!');
        };

        // Manejar callback de OAuth (cuando regresa de Google)
        async function handleOAuthCallback() {
            if (!supabase) return;
            
            // Si hay tokens en la URL, Supabase los manejará automáticamente
            if (window.location.hash.includes('access_token')) {
                console.log('🔄 Procesando login con Google...');
                try {
                    const { data, error } = await supabase.auth.getSession();
                    if (data.session) {
                        console.log('✅ Login con Google exitoso');
                    }
                } catch (error) {
                    console.error('❌ Error procesando callback:', error);
                }
            }
        }

        // Funciones del modal de login y dropdown de usuario
        let isUserLoggedIn = false;
        let cartLoadedForUser = null; // Evitar cargar carrito múltiples veces

        function toggleUserMenu() {
            if (!isUserLoggedIn) {
                toggleLogin();
            } else {
                const dropdown = document.getElementById('userDropdown');
                dropdown.classList.toggle('active');
            }
        }

        function toggleLogin() {
            const modal = document.getElementById('loginModal');
            modal.classList.toggle('active');
            
            if (modal.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = '';
            }
        }

        // Función de logout
        async function logout() {
            try {
                const { error } = await supabase.auth.signOut();
                if (error) throw error;
                
                // Limpiar estado local
                hideUserInfo();
                
                // Cerrar dropdown
                document.getElementById('userDropdown').classList.remove('active');
                
                console.log('🚪 Sesión cerrada correctamente');
                alert('👋 ¡Sesión cerrada correctamente!\n¡Gracias por visitarnos!');
                
            } catch (error) {
                console.error('Error cerrando sesión:', error);
                alert('❌ Error cerrando la sesión');
            }
        }

        function switchTab(tab) {
            const loginForm = document.getElementById('loginForm');
            const registerForm = document.getElementById('registerForm');
            const tabs = document.querySelectorAll('.auth-tab');
            
            tabs.forEach(t => t.classList.remove('active'));
            
            if (tab === 'login') {
                loginForm.style.display = 'flex';
                registerForm.style.display = 'none';
                tabs[0].classList.add('active');
            } else {
                loginForm.style.display = 'none';
                registerForm.style.display = 'flex';
                tabs[1].classList.add('active');
            }
        }

        async function registerUser() {
            if (!supabase) {
                alert('⚠️ Cargando sistema de autenticación...');
                return;
            }

            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;

            if (password !== confirmPassword) {
                alert('Las contraseñas no coinciden');
                return;
            }

            if (password.length < 6) {
                alert('La contraseña debe tener al menos 6 caracteres');
                return;
            }

            const button = event.target;
            button.disabled = true;
            button.textContent = 'CREANDO CUENTA...';

            try {
                const { data, error } = await supabase.auth.signUp({
                    email: email,
                    password: password,
                });

                if (error) throw error;

                alert('✅ ¡Cuenta creada! Revisa tu email para confirmar tu registro');
                toggleLogin();
                
                // Limpiar formulario
                document.getElementById('registerEmail').value = '';
                document.getElementById('registerPassword').value = '';
                document.getElementById('confirmPassword').value = '';
                
            } catch (error) {
                alert('❌ Error: ' + error.message);
            } finally {
                button.disabled = false;
                button.textContent = 'CREAR CUENTA';
            }
        }

        async function loginUser() {
            if (!supabase) {
                alert('⚠️ Cargando sistema de autenticación...');
                return;
            }

            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            const button = event.target;
            button.disabled = true;
            button.textContent = 'INICIANDO SESIÓN...';

            try {
                const { data, error } = await supabase.auth.signInWithPassword({
                    email: email,
                    password: password,
                });

                if (error) throw error;

                showUserInfo(data.user);
                toggleLogin();
                
                // Limpiar formulario
                document.getElementById('loginEmail').value = '';
                document.getElementById('loginPassword').value = '';
                
            } catch (error) {
                alert('❌ Error: ' + error.message);
            } finally {
                button.disabled = false;
                button.textContent = 'INICIAR SESIÓN';
            }
        }

        async function loginWithGoogle() {
            if (!supabase) {
                alert('⚠️ Cargando sistema de autenticación...');
                return;
            }

            try {
                const { data, error } = await supabase.auth.signInWithOAuth({
                    provider: 'google',
                    options: {
                        redirectTo: window.location.origin + window.location.pathname
                    }
                });

                if (error) {
                    console.error('Error de Google OAuth:', error);
                    
                    // Manejar errores específicos
                    if (error.error_code === 'validation_failed' && error.msg.includes('missing OAuth secret')) {
                        alert('🔧 Falta configurar el Client Secret de Google\n\n' +
                              'Pasos para solucionarlo:\n' +
                              '1. Ve a Google Cloud Console\n' +
                              '2. APIs & Services → Credentials\n' +
                              '3. Edita tu OAuth Client ID\n' +
                              '4. Copia el "Client Secret"\n' +
                              '5. Pégalo en Supabase → Authentication → Providers → Google');
                    } else {
                        alert('❌ Error con Google login: ' + (error.msg || error.message));
                    }
                    return;
                }
                
                // El login será manejado automáticamente por el listener de auth
                
            } catch (error) {
                console.error('Error completo:', error);
                alert('❌ Error inesperado: ' + error.message);
            }
        }

        async function logoutUser() {
            if (!supabase) return;

            try {
                const { error } = await supabase.auth.signOut();
                if (error) throw error;
                
                hideUserInfo();
                alert('👋 ¡Hasta pronto!');
                
            } catch (error) {
                alert('❌ Error: ' + error.message);
            }
        }

        async function checkUser() {
            if (!supabase) return;

            try {
                const { data: { user } } = await supabase.auth.getUser();
                
                if (user && cartLoadedForUser !== user.id) {
                    showUserInfo(user);
                } else if (!user) {
                    hideUserInfo();
                }
            } catch (error) {
                console.error('Error checking user:', error);
                hideUserInfo();
            }
        }

        // Esta función ya está implementada arriba con funcionalidad de BD

        function hideUserInfo() {
            const profileIcon = document.querySelector('.profile-icon');
            const userInfo = document.getElementById('userInfo');
            
            // Restaurar color original del icono
            profileIcon.style.color = '';
            
            // Ocultar info del usuario
            userInfo.classList.remove('active');
            
            console.log('👤 Usuario deslogueado');
        }

        // Cerrar modal al hacer clic fuera
        document.getElementById('loginModal').addEventListener('click', function(e) {
            if (e.target === this) {
                toggleLogin();
            }
        });

        // ============== FUNCIONES DE BASE DE DATOS ==============

        // Inicializar tablas de la base de datos
        async function initializeDatabaseTables() {
            console.log('🗄️ Inicializando tablas de BD...');
            // La tabla cart_items se creará automáticamente si es necesario
            // O se puede crear manualmente desde el panel de Supabase
        }

        // Crear/Actualizar perfil del usuario
        async function createOrUpdateProfile(user) {
            if (!supabase || !user) return;

            try {
                const { data, error } = await supabase
                    .from('profiles')
                    .upsert({
                        id: user.id,
                        email: user.email,
                        updated_at: new Date().toISOString()
                    })
                    .select();

                if (error) throw error;
                
                console.log('✅ Perfil actualizado:', data);
                return data[0];
            } catch (error) {
                console.error('❌ Error creando perfil:', error);
            }
        }

        // Obtener perfil del usuario
        async function getUserProfile() {
            if (!supabase) return null;

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) return null;

                const { data, error } = await supabase
                    .from('profiles')
                    .select('*')
                    .eq('id', user.id)
                    .single();

                if (error) throw error;
                return data;
            } catch (error) {
                console.error('❌ Error obteniendo perfil:', error);
                return null;
            }
        }

        // Guardar carrito del usuario en la base de datos
        async function saveCartToDatabase() {
            if (!supabase || carrito.length === 0) return;

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) return;

                // Crear una orden pendiente
                const { data: orderData, error: orderError } = await supabase
                    .from('orders')
                    .insert({
                        user_id: user.id,
                        total: carrito.reduce((total, item) => total + (item.precio * item.cantidad), 0),
                        status: 'pending'
                    })
                    .select();

                if (orderError) throw orderError;

                const orderId = orderData[0].id;

                // Guardar items del carrito
                const orderItems = carrito.map(item => ({
                    order_id: orderId,
                    product_name: item.nombre,
                    product_id: item.id || item.nombre.toLowerCase().replace(/ /g, '-'),
                    quantity: item.cantidad,
                    price: item.precio,
                    size: item.talla || 'M',
                    image_url: item.imagen || ''
                }));

                const { error: itemsError } = await supabase
                    .from('order_items')
                    .insert(orderItems);

                if (itemsError) throw itemsError;

                console.log('✅ Carrito guardado en BD:', orderData[0]);
                return orderData[0];
                
            } catch (error) {
                console.error('❌ Error guardando carrito:', error);
            }
        }

        // Obtener historial de pedidos
        async function getUserOrders() {
            if (!supabase) return [];

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) return [];

                const { data, error } = await supabase
                    .from('orders')
                    .select(`
                        *,
                        order_items (*)
                    `)
                    .eq('user_id', user.id)
                    .order('created_at', { ascending: false });

                if (error) throw error;
                return data || [];
            } catch (error) {
                console.error('❌ Error obteniendo pedidos:', error);
                return [];
            }
        }

        // ============== FUNCIONES DE CARRITO SINCRONIZADO ==============
        
        // Cargar carrito desde la base de datos
        async function loadCartFromDatabase(userId) {
            if (!supabase || !userId) return;

            try {
                // Intentar cargar desde la tabla cart_items
                const { data, error } = await supabase
                    .from('cart_items')
                    .select('*')
                    .eq('user_id', userId);

                if (error) {
                    console.log('ℹ️ Tabla cart_items no disponible, usando localStorage');
                    // Fallback a localStorage
                    const savedCart = localStorage.getItem(`egozn_cart_${userId}`);
                    if (savedCart) {
                        const cartFromStorage = JSON.parse(savedCart);
                        
                        // SIMPLIFICADO: Solo cargar si el carrito local está vacío
                        if (carrito.length === 0 && cartFromStorage.length > 0) {
                            carrito = cartFromStorage;
                            console.log('✅ Carrito cargado desde localStorage:', carrito.length, 'items');
                        } else if (carrito.length > 0) {
                            console.log('ℹ️ Carrito local mantiene prioridad');
                        }
                        
                        actualizarCarrito();
                    }
                    return;
                }

                if (data && data.length > 0) {
                    // Convertir datos de BD al formato local del carrito
                    const cartFromDB = data.map(item => ({
                        id: item.product_id,
                        title: item.product_name,
                        nombre: item.product_name,
                        category: 'Lifestyle',
                        categoria: 'Lifestyle',
                        price: parseFloat(item.price),
                        precio: parseFloat(item.price),
                        quantity: item.quantity,
                        cantidad: item.quantity,
                        size: item.size,
                        talla: item.size,
                        color: 'Marrón',
                        image: item.image_url || 'Img/EGOZN.png'
                    }));

                    // SIMPLIFICADO: Solo cargar el carrito de BD si el local está vacío
                    if (carrito.length === 0) {
                        carrito = cartFromDB;
                        console.log('✅ Carrito cargado desde BD:', carrito.length, 'items');
                    } else {
                        console.log('ℹ️ Carrito local mantiene prioridad');
                        // Guardar carrito local en BD para sincronizar
                        await saveCartToDatabase();
                    }

                    actualizarCarrito();
                } else {
                    // Si hay carrito local y no hay en BD, guardarlo
                    if (carrito.length > 0) {
                        await saveCartToDatabase();
                    }
                }
                
            } catch (error) {
                console.error('❌ Error cargando carrito:', error);
            }
        }

        // Guardar carrito en la base de datos
        async function saveCartToDatabase() {
            if (!supabase || !isUserLoggedIn) return;

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) return;

                // Intentar guardar en la tabla cart_items
                try {
                    // Primero, eliminar items existentes del usuario
                    await supabase
                        .from('cart_items')
                        .delete()
                        .eq('user_id', user.id);

                    // Luego, insertar items actuales del carrito
                    if (carrito.length > 0) {
                        const cartItems = carrito.map(item => ({
                            user_id: user.id,
                            product_id: item.id || `${item.title || item.nombre}-${item.size || item.talla}`,
                            product_name: item.title || item.nombre,
                            price: parseFloat(item.price || item.precio),
                            image_url: item.image || 'Img/EGOZN.png',
                            size: item.size || item.talla,
                            quantity: item.quantity || item.cantidad
                        }));

                        const { data, error } = await supabase
                            .from('cart_items')
                            .insert(cartItems);

                        if (error) throw error;
                        
                        console.log('✅ Carrito guardado en BD:', cartItems.length, 'items');
                    }
                } catch (dbError) {
                    console.log('ℹ️ Tabla cart_items no disponible, usando localStorage');
                    // Fallback a localStorage si la tabla no existe
                    localStorage.setItem(`egozn_cart_${user.id}`, JSON.stringify(carrito));
                    console.log('✅ Carrito guardado localmente para usuario:', user.email);
                }
                
            } catch (error) {
                console.error('❌ Error guardando carrito:', error);
            }
        }

        // Combinar dos carritos evitando duplicados
        function mergeCarritos(carritoLocal, carritoRemoto) {
            console.log('🔄 Fusionando carritos - Local:', carritoLocal.length, 'Remoto:', carritoRemoto.length);
            
            const merged = [...carritoLocal];
            
            carritoRemoto.forEach(itemRemoto => {
                const existingIndex = merged.findIndex(item => {
                    // Compatibilidad con diferentes formatos
                    const localName = item.title || item.nombre;
                    const remoteName = itemRemoto.title || itemRemoto.nombre;
                    const localSize = item.size || item.talla;
                    const remoteSize = itemRemoto.size || itemRemoto.talla;
                    
                    return localName === remoteName && localSize === remoteSize;
                });
                
                if (existingIndex >= 0) {
                    // Si existe, sumar cantidades (no tomar el mayor)
                    const localQty = merged[existingIndex].quantity || merged[existingIndex].cantidad;
                    const remoteQty = itemRemoto.quantity || itemRemoto.cantidad;
                    
                    if (merged[existingIndex].quantity !== undefined) {
                        merged[existingIndex].quantity = localQty + remoteQty;
                        merged[existingIndex].cantidad = localQty + remoteQty;
                    } else {
                        merged[existingIndex].cantidad = localQty + remoteQty;
                        merged[existingIndex].quantity = localQty + remoteQty;
                    }
                    
                    console.log(`📦 Fusionado: ${localName} - Cantidad total: ${localQty + remoteQty}`);
                } else {
                    // Si no existe, agregarlo
                    merged.push(itemRemoto);
                    console.log(`➕ Agregado: ${itemRemoto.title || itemRemoto.nombre}`);
                }
            });
            
            console.log('✅ Fusión completada - Total items:', merged.length);
            return merged;
        }

        // Agregar producto a favoritos
        async function addToFavorites(product) {
            if (!supabase) return;

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) {
                    alert('🔐 Inicia sesión para guardar favoritos');
                    toggleLogin();
                    return;
                }

                const { data, error } = await supabase
                    .from('favorites')
                    .insert({
                        user_id: user.id,
                        product_id: product.id || product.nombre.toLowerCase().replace(/ /g, '-'),
                        product_name: product.nombre,
                        price: product.precio,
                        image_url: product.imagen || ''
                    });

                if (error) {
                    if (error.code === '23505') { // Unique constraint violation
                        alert('💖 Este producto ya está en tus favoritos');
                    } else {
                        throw error;
                    }
                } else {
                    alert('💖 ¡Agregado a favoritos!');
                    console.log('✅ Producto agregado a favoritos:', data);
                }
            } catch (error) {
                console.error('❌ Error agregando a favoritos:', error);
                alert('❌ Error agregando a favoritos');
            }
        }

        // Obtener favoritos del usuario
        async function getUserFavorites() {
            if (!supabase) return [];

            try {
                const { data: { user } } = await supabase.auth.getUser();
                if (!user) return [];

                const { data, error } = await supabase
                    .from('favorites')
                    .select('*')
                    .eq('user_id', user.id)
                    .order('created_at', { ascending: false });

                if (error) throw error;
                return data || [];
            } catch (error) {
                console.error('❌ Error obteniendo favoritos:', error);
                return [];
            }
        }

        // Función mejorada para mostrar info del usuario (incluyendo crear perfil)
        async function showUserInfo(user) {
            const profileIcon = document.querySelector('.profile-icon');
            const dropdownUserEmail = document.getElementById('dropdownUserEmail');
            
            // Marcar como usuario logueado
            isUserLoggedIn = true;
            
            // Cambiar el icono de perfil por uno activo
            profileIcon.style.color = 'var(--dorado)';
            profileIcon.classList.add('has-dropdown');
            
            // Mostrar email en el dropdown
            dropdownUserEmail.textContent = user.email;
            
            // Crear/actualizar perfil en la base de datos
            await createOrUpdateProfile(user);
            
            // 🛒 CARGAR CARRITO SINCRONIZADO (solo una vez por usuario)
            if (cartLoadedForUser !== user.id) {
                await loadCartFromDatabase(user.id);
                cartLoadedForUser = user.id;
            }
            
            console.log('👤 Usuario logueado:', user.email);
        }

        function hideUserInfo() {
            const profileIcon = document.querySelector('.profile-icon');
            const dropdown = document.getElementById('userDropdown');
            
            // Marcar como usuario deslogueado
            isUserLoggedIn = false;
            cartLoadedForUser = null; // Resetear control de carga
            
            // Restaurar color original del icono
            profileIcon.style.color = '';
            profileIcon.classList.remove('has-dropdown');
            
            // Cerrar dropdown si está abierto
            dropdown.classList.remove('active');
            
            // 🛒 LIMPIAR CARRITO AL CERRAR SESIÓN
            carrito = [];
            actualizarCarrito();
            
            console.log('👤 Usuario deslogueado');
        }

        // Mostrar historial de pedidos
        async function showOrderHistory() {
            // Cerrar dropdown
            document.getElementById('userDropdown').classList.remove('active');
            
            try {
                const orders = await getUserOrders();
                
                if (orders.length === 0) {
                    alert('📦 Aún no tienes pedidos.\n¡Explora nuestra tienda y realiza tu primera compra!');
                    return;
                }

                // Crear contenido del historial
                let historyHTML = `
                    <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
                        <h2 style="color: var(--plateado-brillante); margin-bottom: 30px; text-align: center;">
                            📦 TU HISTORIAL DE PEDIDOS
                        </h2>
                `;

                orders.forEach(order => {
                    const fecha = new Date(order.created_at).toLocaleDateString('es-ES');
                    const items = order.order_items || [];
                    
                    historyHTML += `
                        <div style="background: var(--gris-carbon); border: 1px solid var(--gris-oscuro); border-radius: 8px; padding: 20px; margin-bottom: 20px;">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 15px;">
                                <div>
                                    <strong style="color: var(--plateado-brillante);">Pedido #${order.id.substring(0, 8)}</strong>
                                    <div style="color: var(--plateado); font-size: 14px;">${fecha}</div>
                                </div>
                                <div style="text-align: right;">
                                    <div style="color: var(--plateado-brillante); font-weight: bold;">€${order.total}</div>
                                    <div style="color: var(--dorado); font-size: 14px; text-transform: uppercase;">${order.status}</div>
                                </div>
                            </div>
                            <div style="border-top: 1px solid var(--gris-oscuro); padding-top: 15px;">
                                ${items.map(item => `
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                                        <span style="color: var(--plateado);">${item.product_name} ${item.size ? `(${item.size})` : ''}</span>
                                        <span style="color: var(--plateado);">${item.quantity}x €${item.price}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                });

                historyHTML += '</div>';

                // Mostrar en un modal o alert (por ahora alert con HTML simplificado)
                const orderList = orders.map(order => {
                    const fecha = new Date(order.created_at).toLocaleDateString('es-ES');
                    const items = order.order_items || [];
                    return `� Pedido #${order.id.substring(0, 8)} - ${fecha}\n   Total: €${order.total} (${order.status})\n   Items: ${items.length} productos`;
                }).join('\n\n');

                alert('📦 TU HISTORIAL DE PEDIDOS\n\n' + orderList);
                
            } catch (error) {
                console.error('Error obteniendo historial:', error);
                alert('❌ Error cargando el historial de pedidos');
            }
        }

        // Función para finalizar compra (guardar pedido)
        async function finalizarCompra() {
            if (!supabase) {
                alert('🔐 Inicia sesión para completar tu compra');
                toggleLogin();
                return;
            }

            if (carrito.length === 0) {
                alert('🛒 Tu carrito está vacío');
                return;
            }

            const order = await saveCartToDatabase();
            if (order) {
                alert('🎉 ¡Pedido creado exitosamente! ID: ' + order.id.substring(0, 8));
                carrito.length = 0; // Vaciar carrito
                actualizarCarrito();
                toggleCarrito();
            }
        }

        // ============== FIN FUNCIONES DE BASE DE DATOS ==============

        // ============== FIN SUPABASE AUTHENTICATION ==============


    </script>
</body>

</html>